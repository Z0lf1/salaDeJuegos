<div class="container mt-4">
  <div class="card-juego-mayor-menor">
    <!-- Contenedor de cartas -->
    <div class="d-flex justify-content-center gap-3 mb-3">
      
      <!-- Carta Actual -->
      <div *ngIf="cartaActual" class="d-flex flex-column align-items-center">
        <img
          [src]="cartaActual.image"
          [alt]="cartaActual.value"
          class="carta mb-2"
          style="width: 120px; border-radius: 10px; box-shadow: 0 4px 12px rgba(0,0,0,0.4);"
        />
        <p class="h5 mb-1">{{ mapearValor(cartaActual) }} de {{ mapearPalo(cartaActual.suit) }}</p>
        <span>Actual</span>
      </div>

      <!-- Carta Siguiente -->
      <div *ngIf="cartaSiguiente" class="d-flex flex-column align-items-center">
        <img
          [src]="cartaSiguiente.image"
          [alt]="cartaSiguiente.value"
          class="carta mb-2"
          style="width: 120px; border-radius: 10px; box-shadow: 0 4px 12px rgba(0,0,0,0.4);"
        />
        <p class="h5 mb-1">{{ mapearValor(cartaSiguiente) }} de {{ mapearPalo(cartaSiguiente.suit) }}</p>
        <span>Siguiente</span>
      </div>

    </div>

    <!-- Mensajes y contador de vidas -->
    <div class="text-center my-3">
      <span class="h5" [ngClass]="{'text-success': mensaje === '¡Correcto!', 'text-danger': mensaje === 'Incorrecto'}">
        {{ mensaje }}
      </span>
      <div class="mt-2">
        <span>Vidas: </span>
        <span *ngFor="let v of [].constructor(vidas)">❤️</span>
        <span class="ms-3">Correctos: <b>{{ correctos }}</b></span>
      </div>
      <div *ngIf="vidas === 0" class="text-danger mt-2 h4">
        ¡Juego terminado!
      </div>
    </div>

    <!-- Botones de acción -->
    <div class="text-center">
      <ng-container *ngIf="vidas>0">
        <button class="btn btn-dark" (click)="minimo()" [disabled]="vidas === 0">Menor</button>
        <button class="btn btn-dark" (click)="maximo()" [disabled]="vidas === 0">Mayor</button>
      </ng-container>
        <button class="btn btn-dark" *ngIf="vidas === 0" (click)="nuevaRonda()">
         Nueva Partida
        </button>
    </div>

    <!-- Tabla de puntajes -->
    <div class="mt-5">
      <h3>Puntajes del juego</h3>
      <table class="table table-striped">
        <thead>
          <tr>
            <th>Usuario</th>
            <th>Puntaje</th>
            <th>Fecha</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let puntaje of puntajes">
            <td>{{ puntaje.usuario }}</td>
            <td>{{ puntaje.puntaje }}</td>
            <td>{{ puntaje.created_at | date:'short' }}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
