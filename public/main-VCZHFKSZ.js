import{$ as Ve,A as m,B as te,D as F,E as k,F as I,H as ne,I as Fe,J as B,K as U,L as ke,M as oe,N as j,O as S,P as q,Q as y,R as Ie,S as Ne,U as Te,W as Ae,X as De,Y as ie,Z as P,_ as Re,a as L,aa as re,ba as Le,c as _e,ca as N,d as Ee,da as w,e as h,ea as T,f as v,fa as A,g as Me,ga as H,h as s,ha as G,i as b,ia as D,j as x,ja as Be,ka as Ue,l as d,la as qe,m as l,ma as He,n as o,na as J,o as t,oa as Ge,p as f,pa as W,qa as Je,ra as ae,s as M,sa as z,t as _,ta as R,u as C,ua as se,v as je,va as We,w as Pe,x as Oe,y as ee,z as r}from"./chunk-PMYPBXRZ.js";import{g as u}from"./chunk-6AOLKZEJ.js";function Ke(n,i){if(n&1&&(o(0,"div",18),r(1),t()),n&2){let e=C();s(),m(e.error)}}var le=class n{constructor(i,e){this.router=i;this.authService=e}email="";password="";error=null;autofill(i,e){this.email=i,this.password=e}onSubmit(){return u(this,null,function*(){try{yield this.authService.login(this.email,this.password),this.router.navigate(["/home"])}catch(i){this.error=i.message||"Error al iniciar sesi\xF3n"}})}static \u0275fac=function(e){return new(e||n)(b(P),b(R))};static \u0275cmp=x({type:n,selectors:[["app-login"]],decls:31,vars:4,consts:[["loginForm","ngForm"],[1,"login-background"],[1,"container-fluid","d-flex","justify-content-center","align-items-center","min-vh-100",2,"position","relative","z-index","1"],[1,"card","p-4","shadow","login-card",2,"width","100%","max-width","420px"],[1,"text-center","mb-4"],[1,"mb-3","d-flex","flex-wrap","gap-2","justify-content-center"],["type","button",1,"btn","btn-outline-light","btn-sm",3,"click"],["type","button",1,"btn","btn-outline-warning","btn-sm",3,"click"],[3,"ngSubmit"],[1,"mb-3"],["for","email",1,"form-label"],["type","email","id","email","name","email","required","","placeholder","ejemplo@correo.com",1,"form-control",3,"ngModelChange","ngModel"],["for","password",1,"form-label"],["type","password","id","password","name","password","required","","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-dark","w-100",3,"disabled"],["class","text-danger mt-2 text-center",4,"ngIf"],[1,"mt-3","text-center"],["href","/home/registro","routerLink","/home/registro",1,"text-warning"],[1,"text-danger","mt-2","text-center"]],template:function(e,a){if(e&1){let c=M();f(0,"div",1),o(1,"div",2)(2,"div",3)(3,"h3",4),r(4,"Iniciar sesi\xF3n"),t(),o(5,"div",5)(6,"button",6),_("click",function(){return h(c),v(a.autofill("jugador1@test.com","123456"))}),r(7,"User 1"),t(),o(8,"button",6),_("click",function(){return h(c),v(a.autofill("pepito@test.com","pepito23"))}),r(9,"User 2"),t(),o(10,"button",6),_("click",function(){return h(c),v(a.autofill("pedritorico@hoho.com","123456"))}),r(11,"User 3"),t(),o(12,"button",7),_("click",function(){return h(c),v(a.autofill("admin1@admin.com","123456"))}),r(13,"Admin"),t()(),o(14,"form",8,0),_("ngSubmit",function(){return h(c),v(a.onSubmit())}),o(16,"div",9)(17,"label",10),r(18,"Correo electr\xF3nico"),t(),o(19,"input",11),I("ngModelChange",function(p){return h(c),k(a.email,p)||(a.email=p),v(p)}),t()(),o(20,"div",9)(21,"label",12),r(22,"Contrase\xF1a"),t(),o(23,"input",13),I("ngModelChange",function(p){return h(c),k(a.password,p)||(a.password=p),v(p)}),t()(),o(24,"button",14),r(25," Ingresar "),t()(),d(26,Ke,2,1,"div",15),o(27,"p",16),r(28," \xBFNo tienes cuenta? "),o(29,"a",17),r(30,"Reg\xEDstrate aqu\xED"),t()()()()}if(e&2){let c=ee(15);s(19),F("ngModel",a.email),s(4),F("ngModel",a.password),s(),l("disabled",!c.valid),s(2),l("ngIf",a.error)}},dependencies:[W,D,N,T,A,J,G,H,y,S],styles:['[_nghost-%COMP%]{display:block;height:100%;width:100%}.login-background[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:-1;background:url("./media/fondoSala-ONVKTRBG.jpg") no-repeat center center;background-size:cover}[_nghost-%COMP%]     .container-fluid.d-flex.justify-content-center{min-height:100vh;align-items:center;display:flex;justify-content:center}@import url(https://fonts.googleapis.com/css2?family=Fredoka+One&display=swap);.login-card[_ngcontent-%COMP%]{background:#0009;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);border-radius:16px;box-shadow:0 8px 20px #0000004d;color:#fff;font-family:Fredoka One,Comic Sans MS,cursive,sans-serif;transition:transform .3s ease,box-shadow .3s ease}.login-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 12px 28px #0006}.login-card[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:#ffffffe6;color:#000;border-radius:8px;border:1px solid #ccc;font-family:Fredoka One,cursive;transition:box-shadow .2s ease}.login-card[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{box-shadow:0 0 6px #ffd700b3;outline:none}.login-card[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{color:#fff;font-family:Fredoka One,cursive}.login-card[_ngcontent-%COMP%]   .btn-dark[_ngcontent-%COMP%]{font-family:Fredoka One,cursive;font-weight:700;min-width:100px;transition:transform .2s ease,box-shadow .2s ease}.login-card[_ngcontent-%COMP%]   .btn-dark[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 10px #00000080}.login-card[_ngcontent-%COMP%]   .btn-outline-light[_ngcontent-%COMP%], .login-card[_ngcontent-%COMP%]   .btn-outline-warning[_ngcontent-%COMP%]{border-radius:8px;font-family:Fredoka One,cursive;transition:background-color .2s ease,transform .2s ease}.login-card[_ngcontent-%COMP%]   .btn-outline-light[_ngcontent-%COMP%]:hover, .login-card[_ngcontent-%COMP%]   .btn-outline-warning[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.login-card[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;font-weight:700}.login-card[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}']})};function Ze(n,i){n&1&&(o(0,"li",9)(1,"a",15),r(2,"Encuesta"),t()())}function $e(n,i){n&1&&(o(0,"li",9)(1,"a",16),r(2,"Puntajes"),t()())}function Xe(n,i){n&1&&(o(0,"li",9)(1,"a",17),r(2,"Login"),t()())}function et(n,i){if(n&1&&(o(0,"li",9)(1,"span",18),r(2),t()()),n&2){let e=C();s(2),m(e.userEmail)}}function tt(n,i){n&1&&(o(0,"li",9)(1,"a",19),r(2,"Encuestas"),t()())}function nt(n,i){if(n&1){let e=M();o(0,"li",9)(1,"button",20),_("click",function(){h(e);let c=C();return v(c.logout())}),r(2,"Logout"),t()()}}function ot(n,i){n&1&&(o(0,"li",9)(1,"a",21),r(2,"Chat"),t()())}var me=class n{constructor(i,e){this.authService=i;this.router=e}userEmail=null;esAdmin=!1;sub;ngOnInit(){this.sub=this.authService.userEmail$.subscribe(i=>u(this,null,function*(){this.userEmail=i,i?this.esAdmin=yield this.authService.isAdmin():this.esAdmin=!1,console.log("Email del usuario:",this.userEmail)}))}logout(){this.authService.logout(),this.router.navigate(["/home"])}ngOnDestroy(){this.sub?.unsubscribe()}static \u0275fac=function(e){return new(e||n)(b(R),b(P))};static \u0275cmp=x({type:n,selectors:[["app-home"]],decls:28,vars:7,consts:[[1,"home-background"],[2,"position","relative","z-index","1"],[1,"navbar","navbar-expand-lg","navbar-light","bg-light"],[1,"container-fluid"],["routerLink","/home",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav"],[1,"nav-item"],["routerLink","/home",1,"nav-link"],["routerLink","/juegos",1,"nav-link"],["class","nav-item",4,"ngIf"],["routerLink","/home/quien-soy",1,"nav-link"],[1,"container","mt-4"],["routerLink","/home/encuesta",1,"nav-link"],["routerLink","/home/puntaje",1,"nav-link"],["routerLink","/home/login",1,"nav-link"],[1,"nav-link","disabled"],["routerLink","/home/encuestas",1,"nav-link"],[1,"btn","btn-link","nav-link",3,"click"],["routerLink","/home/chat",1,"nav-link"]],template:function(e,a){e&1&&(f(0,"div",0),o(1,"div",1)(2,"nav",2)(3,"div",3)(4,"a",4),r(5,"Sala de Juegos"),t(),o(6,"button",5),f(7,"span",6),t(),o(8,"div",7)(9,"ul",8)(10,"li",9)(11,"a",10),r(12,"Home"),t()(),o(13,"li",9)(14,"a",11),r(15,"Juegos"),t()(),d(16,Ze,3,0,"li",12)(17,$e,3,0,"li",12)(18,Xe,3,0,"li",12)(19,et,3,1,"li",12)(20,tt,3,0,"li",12)(21,nt,3,0,"li",12),o(22,"li",9)(23,"a",13),r(24,"\xBFQui\xE9n soy?"),t()(),d(25,ot,3,0,"li",12),t()()()(),o(26,"div",14),f(27,"router-outlet"),t()()),e&2&&(s(16),l("ngIf",a.userEmail),s(),l("ngIf",a.userEmail),s(),l("ngIf",!a.userEmail),s(),l("ngIf",a.userEmail),s(),l("ngIf",a.esAdmin),s(),l("ngIf",a.userEmail),s(4),l("ngIf",a.userEmail))},dependencies:[re,ie,Re,y,S],styles:['.home-background[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:-1;background:url("./media/fondoSala-ONVKTRBG.jpg") no-repeat center center;background-size:cover}[_nghost-%COMP%]{display:block;height:100%;width:100%}.home-background[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:-1;background:url("./media/fondoSala-ONVKTRBG.jpg") no-repeat center center;background-size:cover}[_nghost-%COMP%]     .container-fluid.d-flex.justify-content-center{min-height:100vh;align-items:center;display:flex;justify-content:center}']})};var de=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=x({type:n,selectors:[["app-quien-soy"]],decls:30,vars:0,consts:[[1,"container","mt-4"],[1,"card","p-4","shadow",2,"background-color","rgba(0, 0, 0, 0.6)","color","white"],[1,"mb-3"],[1,"mb-3","text-center"],["src","assets/mi-foto.jpg","alt","Mi Foto","width","200",1,"img-thumbnail"]],template:function(e,a){e&1&&(o(0,"div",0)(1,"div",1)(2,"h3",2),r(3,"\xBFQui\xE9n soy?"),t(),o(4,"div",3),f(5,"img",4),t(),o(6,"p")(7,"strong"),r(8,"Nombre:"),t(),r(9," Alan Magari\xF1os"),t(),o(10,"p")(11,"strong"),r(12,"Edad:"),t(),r(13," 35 a\xF1os"),t(),o(14,"p")(15,"strong"),r(16,"Carrera:"),t(),r(17," Tecnicatura universitaria en programaci\xF3n"),t(),o(18,"p")(19,"strong"),r(20,"Hobbies:"),t(),r(21," Jugar videojuegos, leer mangas, salir a juntar kokemone y pasarla mal."),t(),o(22,"p")(23,"strong"),r(24,"Me define:"),t(),r(25,`"I'm currently running on 2 hours of sleep, suicide thoughts and an oreo. And Im ready to fight god or became him"`),t(),o(26,"p")(27,"strong"),r(28,"Sobre mi juego:"),t(),r(29,' Es un juego que se llama "Palabra Misteriosa". El juego nos ofrecera una palabra totalmente desordenada y una lista de opciones dentro de la cual tendremos que elegir la palabra correcta. Cuantas palabras correctas podran adivinar con solo 3 vidas? Averiguenlo. '),t()()())},styles:[".card[_ngcontent-%COMP%]{background:#0006;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);border-radius:16px;box-shadow:0 8px 20px #0000004d;padding:30px;color:#fff;font-family:Fredoka One,Comic Sans MS,cursive,sans-serif;transition:transform .3s ease,box-shadow .3s ease}.card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 12px 28px #0006}.card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:12px;border:2px solid rgba(255,255,255,.3)}.card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:12px}.card[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:gold}"]})};function it(n,i){if(n&1){let e=M();o(0,"div",4)(1,"div",5),_("click",function(){let c=h(e).$implicit,g=C();return v(g.jugar(c.ruta))})("keydown.enter",function(){let c=h(e).$implicit,g=C();return v(g.jugar(c.ruta))}),o(2,"div",6),f(3,"img",7),o(4,"h5",8),r(5),t()()()()}if(n&2){let e=i.$implicit;s(3),l("src",e.imagen,Me)("alt",e.nombre),s(2),m(e.nombre)}}var pe=class n{constructor(i){this.router=i}juegos=[{nombre:"Ahorcado",ruta:"/home/juegos/ahorcado",imagen:"assets/ahorcado.png"},{nombre:"Mayor o Menor",ruta:"/home/juegos/mayor-menor",imagen:"assets/mayor-menor.png"},{nombre:"Preguntados",ruta:"/home/juegos/preguntados",imagen:"assets/preguntados.png"},{nombre:"Anagrama",ruta:"/home/juegos/anagrama",imagen:"assets/anagrama.png"}];jugar(i){this.router.navigate([i])}static \u0275fac=function(e){return new(e||n)(b(P))};static \u0275cmp=x({type:n,selectors:[["app-catalogo"]],decls:5,vars:1,consts:[[1,"container","my-5"],[1,"text-center","mb-4"],[1,"row","g-4","justify-content-center"],["class","col-12 col-md-6",4,"ngFor","ngForOf"],[1,"col-12","col-md-6"],["role","button","tabindex","0",1,"card","h-100","text-center","shadow-sm","card-clickable","juego-card",3,"click","keydown.enter"],[1,"card-body","d-flex","flex-column","justify-content-between","align-items-center"],[1,"game-pic","mb-3",3,"src","alt"],[1,"card-title"]],template:function(e,a){e&1&&(o(0,"div",0)(1,"h2",1),r(2,"Juegos"),t(),o(3,"div",2),d(4,it,6,3,"div",3),t()()),e&2&&(s(4),l("ngForOf",a.juegos))},dependencies:[y,j],styles:['.card[_ngcontent-%COMP%]{border-radius:1rem;overflow:hidden;transition:transform .3s ease,box-shadow .3s ease;background:#ffffffe6;padding:1rem}.card[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 12px 30px #00000059}.game-pic[_ngcontent-%COMP%]{width:120px;height:120px;object-fit:contain;margin-bottom:.75rem}.card-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding:1rem}.card-clickable[_ngcontent-%COMP%]{cursor:pointer;border:1px solid #dee2e6}.card-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;text-align:center;color:#333}.card-clickable[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff6ec7,#ffc66e);color:#fff;border:none;box-shadow:0 4px 15px #ff6ec766;transition:transform .3s,box-shadow .3s}.card-clickable[_ngcontent-%COMP%]:hover{transform:scale(1.08);box-shadow:0 12px 25px #ff6ec7b3}@media (min-width: 768px){.col-md-6[_ngcontent-%COMP%]{flex:0 0 50%;max-width:50%}}.row.justify-content-center[_ngcontent-%COMP%]{justify-content:center}h2.text-center[_ngcontent-%COMP%]{color:#fff;font-family:"Press Start 2P",cursive;text-shadow:2px 2px 4px #000000,0 0 10px #ff6ec7,0 0 20px #ff6ec7;font-weight:700;letter-spacing:2px}']})};var ue=class n{supabase;canalMensajes=null;constructor(){this.supabase=ae(z.supabaseUrl,z.supabaseAnonKey)}getMensajes(){return u(this,null,function*(){let{data:i,error:e}=yield this.supabase.from("chat").select("*").order("created_at",{ascending:!0});if(e)throw e;return i})}enviarMensaje(i,e){return u(this,null,function*(){let{error:a}=yield this.supabase.from("chat").insert([{usuario:i,mensaje:e}]);if(a)throw a})}suscribirseMensajes(i){this.canalMensajes&&this.supabase.removeChannel(this.canalMensajes),this.canalMensajes=this.supabase.channel("mensajes-channel").on("postgres_changes",{event:"INSERT",schema:"public",table:"chat"},e=>{let a=e.new;i(a)}).subscribe(e=>{e==="SUBSCRIBED"?console.log("Suscrito a los mensajes del chat"):console.warn("Error al suscribirse a los mensajes del chat:",e)})}desconectar(){this.canalMensajes&&this.supabase.removeChannel(this.canalMensajes)}static \u0275fac=function(e){return new(e||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})};var at=["chatScroll"],st=(n,i)=>({"mensaje-propio":n,"mensaje-ajeno":i});function lt(n,i){if(n&1&&(o(0,"div")(1,"div",16)(2,"div",17)(3,"div",18)(4,"span",10),r(5),t(),f(6,"br"),o(7,"span"),r(8),t()(),o(9,"div",19),r(10),B(11,"date"),t()()()()),n&2){let e=i.$implicit,a=C();s(),l("ngClass",Fe(7,st,a.usuarioEsPropio(e.usuario),!a.usuarioEsPropio(e.usuario))),s(4),m(e.usuario),s(3),m(e.mensaje),s(2),te(" ",U(11,4,e.created_at,"shortTime")," ")}}function ct(n,i){n&1&&(o(0,"div",20),r(1," No hay mensajes "),t())}function mt(n,i){if(n&1&&(o(0,"div",21),r(1),t()),n&2){let e=C();s(),m(e.error)}}var fe=class n{constructor(i){this.chatService=i}mensajes=[];usuario="";mensaje="";error="";chatScroll;ngOnInit(){return u(this,null,function*(){this.usuario=localStorage.getItem("userEmail")||"",yield this.cargarMensajes(),this.chatService.suscribirseMensajes(i=>{this.mensajes.push(i),setTimeout(()=>this.scrollToBottom(),0)})})}ngOnDestroy(){this.chatService.desconectar()}cargarMensajes(){return u(this,null,function*(){try{this.mensajes=yield this.chatService.getMensajes(),setTimeout(()=>this.scrollToBottom(),0)}catch{this.error="Error al cargar mensajes"}})}enviar(){return u(this,null,function*(){if(!(!this.usuario.trim()||!this.mensaje.trim()))try{yield this.chatService.enviarMensaje(this.usuario,this.mensaje),this.mensaje=""}catch{this.error="Error al enviar mensaje"}})}scrollToBottom(){try{let i=this.chatScroll.nativeElement;i.scrollTop=i.scrollHeight}catch(i){console.error("No se pudo hacer scroll:",i)}}usuarioEsPropio(i){let e=(this.usuario??"").toString().trim().toLowerCase();return e?(i??"").toString().trim().toLowerCase()===e:!1}static \u0275fac=function(e){return new(e||n)(b(ue))};static \u0275cmp=x({type:n,selectors:[["app-chat"]],viewQuery:function(e,a){if(e&1&&je(at,5),e&2){let c;Pe(c=Oe())&&(a.chatScroll=c.first)}},decls:19,vars:5,consts:[["chatScroll",""],[1,"container","mt-4",2,"max-width","600px"],[1,"card","shadow"],[1,"card-header","bg-dark","text-white"],[1,"card-body","chat-body"],[4,"ngFor","ngForOf"],["class","text-center text-muted",4,"ngIf"],[1,"card-footer"],[1,"row","g-2","align-items-center",3,"ngSubmit"],[1,"col-4","d-flex","align-items-center"],[1,"fw-bold"],[1,"col-6"],["type","text","placeholder","Mensaje","name","mensaje","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-2"],["type","submit",1,"btn","btn-dark","w-100"],["class","text-danger mt-2",4,"ngIf"],[3,"ngClass"],[1,"mensaje"],[1,"contenido"],[1,"hora","text-muted","small"],[1,"text-center","text-muted"],[1,"text-danger","mt-2"]],template:function(e,a){if(e&1){let c=M();o(0,"div",1)(1,"div",2)(2,"div",3),r(3," Chat "),t(),o(4,"div",4,0),d(6,lt,12,10,"div",5)(7,ct,2,0,"div",6),t(),o(8,"div",7)(9,"form",8),_("ngSubmit",function(){return h(c),v(a.enviar())}),o(10,"div",9)(11,"span",10),r(12),t()(),o(13,"div",11)(14,"input",12),I("ngModelChange",function(p){return h(c),k(a.mensaje,p)||(a.mensaje=p),v(p)}),t()(),o(15,"div",13)(16,"button",14),r(17,"Enviar"),t()()(),d(18,mt,2,1,"div",15),t()()()}e&2&&(s(6),l("ngForOf",a.mensajes),s(),l("ngIf",a.mensajes.length===0),s(5),m(a.usuario),s(2),F("ngModel",a.mensaje),s(4),l("ngIf",a.error))},dependencies:[y,oe,j,S,q,W,D,N,T,A,J,G,H],styles:['.chat-body[_ngcontent-%COMP%]{height:300px;overflow-y:auto;padding:10px;background:#ece5dd;display:flex;flex-direction:column}.mensaje-propio[_ngcontent-%COMP%], .mensaje-ajeno[_ngcontent-%COMP%]{display:flex;margin-bottom:10px}.mensaje-propio[_ngcontent-%COMP%]{justify-content:flex-end}.mensaje-ajeno[_ngcontent-%COMP%]{justify-content:flex-start}.mensaje[_ngcontent-%COMP%]{max-width:70%;padding:8px 12px;border-radius:15px;word-wrap:break-word;position:relative}.mensaje-propio[_ngcontent-%COMP%]   .mensaje[_ngcontent-%COMP%]{background-color:#dcf8c6;text-align:right;border-bottom-right-radius:0}.mensaje-propio[_ngcontent-%COMP%]   .mensaje[_ngcontent-%COMP%]:after{content:"";position:absolute;right:-10px;bottom:0;width:0;height:0;border-left:10px solid #dcf8c6;border-top:10px solid transparent;border-bottom:0 solid transparent}.mensaje-ajeno[_ngcontent-%COMP%]   .mensaje[_ngcontent-%COMP%]{background-color:#fff;text-align:left;border-bottom-left-radius:0}.mensaje-ajeno[_ngcontent-%COMP%]   .mensaje[_ngcontent-%COMP%]:after{content:"";position:absolute;left:-10px;bottom:0;width:0;height:0;border-right:10px solid #ffffff;border-top:10px solid transparent;border-bottom:0 solid transparent}:is()   .chat-body[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto;padding:10px;display:flex;flex-direction:column}:is()   .mensaje-propio[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin:5px 0}:is()   .mensaje-ajeno[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;margin:5px 0}:is()   .mensaje[_ngcontent-%COMP%]{max-width:70%;padding:8px 12px;border-radius:12px;box-shadow:0 1px 3px #0003}:is()   .mensaje-propio[_ngcontent-%COMP%]   .mensaje[_ngcontent-%COMP%]{background-color:#d1e7dd;text-align:right}:is()   .mensaje-ajeno[_ngcontent-%COMP%]   .mensaje[_ngcontent-%COMP%]{background-color:#f8f9fa;text-align:left}.hora[_ngcontent-%COMP%]{font-size:.7rem;margin-top:4px;display:block}']})};function dt(n,i){if(n&1&&(o(0,"div",15),r(1),t()),n&2){let e=C();s(),m(e.error)}}var ge=class n{constructor(i,e){this.authService=i;this.router=e}email="";password="";error="";onSubmit(){return u(this,null,function*(){try{yield this.authService.register(this.email,this.password),this.router.navigate(["/home"])}catch(i){this.error=i.message||"Error al registrar usuario"}})}static \u0275fac=function(e){return new(e||n)(b(R),b(P))};static \u0275cmp=x({type:n,selectors:[["app-registro"]],decls:22,vars:4,consts:[["registerForm","ngForm"],[1,"register-background"],[1,"container-fluid","d-flex","justify-content-center","align-items-center","min-vh-100",2,"position","relative","z-index","1"],[1,"card","p-4","shadow","register-card",2,"width","100%","max-width","420px"],[1,"text-center","mb-4"],[3,"ngSubmit"],[1,"mb-3"],["for","email",1,"form-label"],["type","email","id","email","name","email","required","","placeholder","ejemplo@correo.com",1,"form-control",3,"ngModelChange","ngModel"],["for","password",1,"form-label"],["type","password","id","password","name","password","required","","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-dark","w-100",3,"disabled"],["class","text-danger mt-3 text-center",4,"ngIf"],[1,"mt-3","text-center"],["href","/home/login","routerLink","/home/login",1,"text-warning"],[1,"text-danger","mt-3","text-center"]],template:function(e,a){if(e&1){let c=M();f(0,"div",1),o(1,"div",2)(2,"div",3)(3,"h3",4),r(4,"Registro"),t(),o(5,"form",5,0),_("ngSubmit",function(){return h(c),v(a.onSubmit())}),o(7,"div",6)(8,"label",7),r(9,"Correo electr\xF3nico"),t(),o(10,"input",8),I("ngModelChange",function(p){return h(c),k(a.email,p)||(a.email=p),v(p)}),t()(),o(11,"div",6)(12,"label",9),r(13,"Contrase\xF1a"),t(),o(14,"input",10),I("ngModelChange",function(p){return h(c),k(a.password,p)||(a.password=p),v(p)}),t()(),o(15,"button",11),r(16," Registrarse "),t()(),d(17,dt,2,1,"div",12),o(18,"p",13),r(19," \xBFYa tienes cuenta? "),o(20,"a",14),r(21,"Inicia sesi\xF3n aqu\xED"),t()()()()}if(e&2){let c=ee(6);s(10),F("ngModel",a.email),s(4),F("ngModel",a.password),s(),l("disabled",!c.valid),s(2),l("ngIf",a.error)}},dependencies:[y,S,W,D,N,T,A,J,G,H],styles:['@font-face{font-family:Fredoka One;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/fredokaone/v15/k3kUo8kEI-tA1RRcTZGmTlHGCac.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}.register-card[_ngcontent-%COMP%]{background:#0009;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);border-radius:16px;box-shadow:0 8px 20px #0000004d;color:#fff;font-family:Fredoka One,Comic Sans MS,cursive,sans-serif;transition:transform .3s ease,box-shadow .3s ease}.register-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 12px 28px #0006}.register-card[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:#ffffffe6;color:#000;border-radius:8px;border:1px solid #ccc;font-family:Fredoka One,cursive;transition:box-shadow .2s ease}.register-card[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{box-shadow:0 0 6px #ffd700b3;outline:none}.register-card[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{color:#fff;font-family:Fredoka One,cursive}.register-card[_ngcontent-%COMP%]   .btn-dark[_ngcontent-%COMP%]{font-family:Fredoka One,cursive;font-weight:700;min-width:100px;transition:transform .2s ease,box-shadow .2s ease}.register-card[_ngcontent-%COMP%]   .btn-dark[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 10px #00000080}.register-card[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;font-weight:700}.register-card[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}']})};var Q=class n{supabase;constructor(){this.supabase=ae(z.supabaseUrl,z.supabaseAnonKey)}obtenerEncuestas(){return u(this,null,function*(){let{data:i,error:e}=yield this.supabase.from("encuestas").select("*").order("fecha_creacion",{ascending:!1});if(e)throw console.error("Error al obtener encuestas:",e),e;return i})}insertEncuesta(i){return u(this,null,function*(){let{data:e,error:a}=yield this.supabase.from("encuestas").insert([i]);if(a)throw a;return e})}static \u0275fac=function(e){return new(e||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})};var we=n=>({"is-invalid":n});function pt(n,i){n&1&&(o(0,"div",23),r(1," Nombre y apellido son obligatorios y solo pueden contener letras y espacios. "),t())}function ut(n,i){n&1&&(o(0,"div",23),r(1," La edad debe estar entre 18 y 99 a\xF1os. "),t())}function ft(n,i){n&1&&(o(0,"div",23),r(1," El tel\xE9fono debe contener solo n\xFAmeros y no m\xE1s de 10 caracteres. "),t())}function gt(n,i){if(n&1&&(o(0,"div")(1,"div",24),f(2,"input",25),o(3,"label",26),r(4),t()()()),n&2){let e=i.$implicit;s(2),l("value",e)("id",e),s(),l("for",e),s(),m(e)}}function ht(n,i){n&1&&(o(0,"div",27),r(1," Seleccion\xE1 un juego. "),t())}function vt(n,i){n&1&&(o(0,"div",27),r(1," Deb\xE9s confirmar antes de enviar. "),t())}var he=class n{constructor(i,e){this.fb=i;this.encuestaService=e}encuestaForm;juegos=["Ahorcado","Mayor Menor","Preguntados","Anagrama"];ngOnInit(){this.encuestaForm=this.fb.group({nombreApellido:["",[w.required,w.pattern(/^[a-zA-Z\s]+$/)]],edad:["",[w.required,w.min(18),w.max(99)]],telefono:["",[w.required,w.pattern(/^\d+$/),w.maxLength(10)]],juegoFavorito:["",w.required],juegoFaltante:["",[w.maxLength(100)]],sugerencias:["",[w.maxLength(200)]],confirmacion:[!1,w.requiredTrue]})}onSubmit(){return u(this,null,function*(){if(this.encuestaForm.valid){let i={nombre_apellido:this.encuestaForm.value.nombreApellido,edad:this.encuestaForm.value.edad,telefono:this.encuestaForm.value.telefono,juego_favorito:this.encuestaForm.value.juegoFavorito,juego_faltante:this.encuestaForm.value.juegoFaltante,sugerencias:this.encuestaForm.value.sugerencias};try{yield this.encuestaService.insertEncuesta(i),alert("Encuesta enviada con \xE9xito"),this.encuestaForm.reset()}catch(e){console.error(" Error al enviar la encuesta:",e),alert("Error al enviar la encuesta")}}else this.encuestaForm.markAllAsTouched(),console.error("Formulario inv\xE1lido")})}static \u0275fac=function(e){return new(e||n)(b(Ge),b(Q))};static \u0275cmp=x({type:n,selectors:[["app-encuesta"]],decls:40,vars:17,consts:[[1,"container","mt-5"],[1,"card","encuesta-card","p-4","shadow"],[1,"text-center","mb-4"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","nombreApellido",1,"form-label"],["id","nombreApellido","type","text","formControlName","nombreApellido",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","edad",1,"form-label"],["id","edad","type","number","formControlName","edad",1,"form-control",3,"ngClass"],["for","telefono",1,"form-label"],["id","telefono","type","text","formControlName","telefono",1,"form-control",3,"ngClass"],["for","juegoFaltante",1,"form-label"],["id","juegoFaltante","type","text","formControlName","juegoFaltante",1,"form-control"],[1,"form-label"],[4,"ngFor","ngForOf"],["class","text-danger",4,"ngIf"],["for","sugerencias",1,"form-label"],["id","sugerencias","formControlName","sugerencias","rows","3",1,"form-control"],[1,"mb-3","form-check"],["type","checkbox","id","confirmacion","formControlName","confirmacion",1,"form-check-input"],["for","confirmacion",1,"form-check-label"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"invalid-feedback"],[1,"form-check"],["type","radio","formControlName","juegoFavorito",1,"form-check-input",3,"value","id"],[1,"form-check-label",3,"for"],[1,"text-danger"]],template:function(e,a){if(e&1&&(o(0,"div",0)(1,"div",1)(2,"h2",2),r(3,"Encuesta"),t(),o(4,"form",3),_("ngSubmit",function(){return a.onSubmit()}),o(5,"div",4)(6,"label",5),r(7,"Nombre y Apellido"),t(),f(8,"input",6),d(9,pt,2,0,"div",7),t(),o(10,"div",4)(11,"label",8),r(12,"Edad"),t(),f(13,"input",9),d(14,ut,2,0,"div",7),t(),o(15,"div",4)(16,"label",10),r(17,"Tel\xE9fono"),t(),f(18,"input",11),d(19,ft,2,0,"div",7),t(),o(20,"div",4)(21,"label",12),r(22,"\xBFQu\xE9 juego pens\xE1s que falta?"),t(),f(23,"input",13),t(),o(24,"div",4)(25,"label",14),r(26,"\xBFQu\xE9 juego te gust\xF3 m\xE1s?"),t(),d(27,gt,5,4,"div",15)(28,ht,2,0,"div",16),t(),o(29,"div",4)(30,"label",17),r(31,"Sugerencias generales"),t(),f(32,"textarea",18),t(),o(33,"div",19),f(34,"input",20),o(35,"label",21),r(36," Confirmo que complet\xE9 y le\xED todo correctamente. "),t(),d(37,vt,2,0,"div",16),t(),o(38,"button",22),r(39,"Enviar"),t()()()()),e&2){let c,g,p,Y,K,Z,$,X;s(4),l("formGroup",a.encuestaForm),s(4),l("ngClass",ne(11,we,((c=a.encuestaForm.get("nombreApellido"))==null?null:c.invalid)&&((c=a.encuestaForm.get("nombreApellido"))==null?null:c.touched))),s(),l("ngIf",((g=a.encuestaForm.get("nombreApellido"))==null?null:g.invalid)&&((g=a.encuestaForm.get("nombreApellido"))==null?null:g.touched)),s(4),l("ngClass",ne(13,we,((p=a.encuestaForm.get("edad"))==null?null:p.invalid)&&((p=a.encuestaForm.get("edad"))==null?null:p.touched))),s(),l("ngIf",((Y=a.encuestaForm.get("edad"))==null?null:Y.invalid)&&((Y=a.encuestaForm.get("edad"))==null?null:Y.touched)),s(4),l("ngClass",ne(15,we,((K=a.encuestaForm.get("telefono"))==null?null:K.invalid)&&((K=a.encuestaForm.get("telefono"))==null?null:K.touched))),s(),l("ngIf",((Z=a.encuestaForm.get("telefono"))==null?null:Z.invalid)&&((Z=a.encuestaForm.get("telefono"))==null?null:Z.touched)),s(8),l("ngForOf",a.juegos),s(),l("ngIf",(($=a.encuestaForm.get("juegoFavorito"))==null?null:$.invalid)&&(($=a.encuestaForm.get("juegoFavorito"))==null?null:$.touched)),s(9),l("ngIf",((X=a.encuestaForm.get("confirmacion"))==null?null:X.invalid)&&((X=a.encuestaForm.get("confirmacion"))==null?null:X.touched)),s(),l("disabled",a.encuestaForm.invalid)}},dependencies:[Je,D,N,Be,Le,Ue,T,A,qe,He,y,oe,j,S],styles:["[_nghost-%COMP%]     .encuesta-card{background:#00000080;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);border-radius:16px;box-shadow:0 8px 20px #0000004d;color:#fff;font-family:Fredoka One,Comic Sans MS,cursive,sans-serif;padding:30px}[_nghost-%COMP%]     .encuesta-card input, [_nghost-%COMP%]     .encuesta-card textarea, [_nghost-%COMP%]     .encuesta-card select{background:#ffffffe6;color:#000;border-radius:8px;border:1px solid #ccc}[_nghost-%COMP%]     .encuesta-card button{font-family:Fredoka One,cursive}[_nghost-%COMP%]     .encuesta-card .form-check-label{color:#fff}"]})};function bt(n,i){n&1&&(o(0,"div",6),r(1,"Cargando encuestas..."),t())}function xt(n,i){if(n&1&&(o(0,"div",7),r(1),t()),n&2){let e=C();s(),m(e.error)}}function Ct(n,i){if(n&1&&(o(0,"tr")(1,"td"),r(2),t(),o(3,"td"),r(4),t(),o(5,"td"),r(6),t(),o(7,"td"),r(8),t(),o(9,"td"),r(10),t(),o(11,"td"),r(12),t(),o(13,"td"),r(14),B(15,"date"),t()()),n&2){let e=i.$implicit;s(2),m(e.nombre_apellido),s(2),m(e.edad),s(2),m(e.telefono),s(2),m(e.juego_favorito),s(2),m(e.juego_faltante||"\u2014"),s(2),m(e.sugerencias||"\u2014"),s(2),m(U(15,7,e.fecha_creacion,"short"))}}function _t(n,i){if(n&1&&(o(0,"table",8)(1,"thead",9)(2,"tr")(3,"th"),r(4,"Nombre y Apellido"),t(),o(5,"th"),r(6,"Edad"),t(),o(7,"th"),r(8,"Tel\xE9fono"),t(),o(9,"th"),r(10,"Juego Favorito"),t(),o(11,"th"),r(12,"Juego Faltante"),t(),o(13,"th"),r(14,"Sugerencias"),t(),o(15,"th"),r(16,"Fecha"),t()()(),o(17,"tbody"),d(18,Ct,16,10,"tr",10),t()()),n&2){let e=C();s(18),l("ngForOf",e.encuestas)}}function yt(n,i){n&1&&(o(0,"div",11),r(1," No hay encuestas registradas por el momento. "),t())}var ve=class n{constructor(i){this.encuestasService=i}encuestas=[];cargando=!0;error=null;ngOnInit(){return u(this,null,function*(){try{this.encuestas=yield this.encuestasService.obtenerEncuestas()}catch{this.error="No se pudieron cargar las encuestas."}finally{this.cargando=!1}})}static \u0275fac=function(e){return new(e||n)(b(Q))};static \u0275cmp=x({type:n,selectors:[["app-encuestas"]],decls:7,vars:4,consts:[[1,"container","mt-5"],[1,"mb-4","text-center"],["class","alert alert-info",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],["class","table table-bordered table-hover",4,"ngIf"],["class","alert alert-warning",4,"ngIf"],[1,"alert","alert-info"],[1,"alert","alert-danger"],[1,"table","table-bordered","table-hover"],[1,"table-dark"],[4,"ngFor","ngForOf"],[1,"alert","alert-warning"]],template:function(e,a){e&1&&(o(0,"div",0)(1,"h2",1),r(2,"Encuestas Recibidas"),t(),d(3,bt,2,0,"div",2)(4,xt,2,1,"div",3)(5,_t,19,1,"table",4)(6,yt,2,0,"div",5),t()),e&2&&(s(3),l("ngIf",a.cargando),s(),l("ngIf",a.error),s(),l("ngIf",!a.cargando&&a.encuestas.length>0),s(),l("ngIf",!a.cargando&&a.encuestas.length===0))},dependencies:[y,j,S,q],encapsulation:2})};function St(n,i){n&1&&(o(0,"div",6),r(1,"Cargando puntajes..."),t())}function wt(n,i){if(n&1&&(o(0,"div",7),r(1),t()),n&2){let e=C();s(),m(e.error)}}function Et(n,i){if(n&1&&(o(0,"tr")(1,"td"),r(2),t(),o(3,"td"),r(4),t(),o(5,"td"),r(6),B(7,"date"),t()()),n&2){let e=i.$implicit;s(2),m(e.usuario),s(2),m(e.puntaje),s(2),m(U(7,3,e.created_at,"short"))}}function Mt(n,i){n&1&&(o(0,"div",18),r(1," No hay puntajes cargados a\xFAn. "),t())}function jt(n,i){if(n&1&&(o(0,"div",10)(1,"div",11)(2,"div",12),r(3),t(),o(4,"div",13)(5,"table",14)(6,"thead",15)(7,"tr")(8,"th"),r(9,"Jugador"),t(),o(10,"th"),r(11,"Puntaje"),t(),o(12,"th"),r(13,"Fecha"),t()()(),o(14,"tbody"),d(15,Et,8,6,"tr",16),t()(),d(16,Mt,2,0,"div",17),t()()()),n&2){let e=i.$implicit,a=C(2);s(3),te(" ",e," "),s(12),l("ngForOf",a.puntajesPorJuego[e]==null?null:a.puntajesPorJuego[e].slice(0,10)),s(),l("ngIf",!(a.puntajesPorJuego[e]!=null&&a.puntajesPorJuego[e].length))}}function Pt(n,i){if(n&1&&(o(0,"div",8),d(1,jt,17,3,"div",9),t()),n&2){let e=C();s(),l("ngForOf",e.juegos)}}var be=class n{constructor(i){this.puntajesService=i}puntajes=[];puntajesPorJuego={};juegos=["Mayor Menor","Ahorcado","Anagrama","Preguntados"];cargando=!0;error=null;ngOnInit(){return u(this,null,function*(){try{this.puntajes=yield this.puntajesService.obtenerTodosLosPuntajes(),this.juegos.forEach(i=>{this.puntajesPorJuego[i]=this.puntajes.filter(e=>e.juego===i).sort((e,a)=>a.puntos-e.puntos).slice(0,5)})}catch{this.error="No se pudieron cargar los puntajes."}finally{this.cargando=!1}})}static \u0275fac=function(e){return new(e||n)(b(We))};static \u0275cmp=x({type:n,selectors:[["app-puntaje"]],decls:7,vars:3,consts:[[1,"container","my-5",2,"font-family","'Poppins', sans-serif"],[1,"card","shadow-lg","border-0","p-4",2,"background-color","rgba(0,0,0,0.4)","backdrop-filter","blur(8px)","border-radius","1rem"],[1,"text-center","mb-4","text-white"],["class","text-center text-white",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],["class","row g-4",4,"ngIf"],[1,"text-center","text-white"],[1,"alert","alert-danger"],[1,"row","g-4"],["class","col-12 col-md-6",4,"ngFor","ngForOf"],[1,"col-12","col-md-6"],[1,"card","shadow-sm","border-0","mb-4",2,"background-color","rgba(0,0,0,0.3)","backdrop-filter","blur(6px)","border-radius","1rem"],[1,"card-header","text-center","text-white","fw-bold",2,"background-color","rgba(0,0,0,0.5)","border-radius","1rem 1rem 0 0"],[1,"card-body","p-3"],[1,"table","table-sm","table-hover","mb-0","text-white"],[2,"background-color","rgba(255,255,255,0.1)"],[4,"ngFor","ngForOf"],["class","text-center my-2 text-white-50",4,"ngIf"],[1,"text-center","my-2","text-white-50"]],template:function(e,a){e&1&&(o(0,"div",0)(1,"div",1)(2,"h2",2),r(3,"Puntajes Generales"),t(),d(4,St,2,0,"div",3)(5,wt,2,1,"div",4)(6,Pt,2,1,"div",5),t()()),e&2&&(s(4),l("ngIf",a.cargando),s(),l("ngIf",a.error),s(),l("ngIf",!a.cargando))},dependencies:[y,j,S,q],encapsulation:2})};var xe=class n{constructor(i,e){this.authService=i;this.router=e}canActivate(){return u(this,null,function*(){let i=this.authService.getUserEmail();if(!i)return this.router.navigate(["/home"]),!1;try{return(yield this.authService.getUsuarioPorEmail(i)).perfil==="administrador"?!0:(this.router.navigate(["/home"]),!1)}catch(e){return console.error("Error al verificar perfil:",e),this.router.navigate(["/home"]),!1}})}static \u0275fac=function(e){return new(e||n)(_e(R),_e(P))};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})};var Qe=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:me,children:[{path:"",component:pe},{path:"quien-soy",component:de},{path:"login",component:le},{path:"registro",component:ge},{path:"juegos",loadChildren:()=>import("./chunk-3SWS2YJG.js").then(n=>n.JuegosModule)},{path:"chat",component:fe,canActivate:[se]},{path:"encuesta",component:he,canActivate:[se]},{path:"encuestas",component:ve,canActivate:[xe]},{path:"puntaje",component:be,canActivate:[se]}]},{path:"**",redirectTo:"home"}];var Ye={providers:[ke({eventCoalescing:!0}),Ee(Ne,re),Ve(Qe),De(Ae()),Te()]};var Ce=class n{title="salaDeJuegos";static \u0275fac=function(e){return new(e||n)};static \u0275cmp=x({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(e,a){e&1&&f(0,"router-outlet")},dependencies:[ie],encapsulation:2})};Ie(Ce,Ye).catch(n=>console.error(n));
