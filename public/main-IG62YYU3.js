import{$ as N,A as P,B as O,C as k,E as te,F as Pe,G as B,H as q,I as Oe,J as ne,K as M,L as S,M as H,N as y,O as ke,P as Ne,R as Te,T as Ae,U as Ve,V as ie,W as F,X as De,Y as Re,Z as oe,_ as Le,a as L,aa as E,ba as T,c as xe,ca as A,d as Ee,da as W,e as v,ea as G,f as h,fa as V,g as je,ga as Be,h as s,ha as qe,i as b,ia as He,j as C,ja as We,ka as Q,l as u,la as Ge,m as l,ma as z,n as i,na as Qe,o as t,oa as re,p as f,pa as J,q as w,qa as D,r as _,ra as ae,s as x,sa as ze,t as we,u as Me,v as Fe,w as ee,x as r,y as c,z as Ie}from"./chunk-LMMXLYVN.js";import{g as p}from"./chunk-6AOLKZEJ.js";function Ye(n,o){if(n&1&&(i(0,"div",17),r(1),t()),n&2){let e=x();s(),c(e.error)}}var se=class n{constructor(o,e){this.router=o;this.authService=e}email="";password="";error=null;autofill(o,e){this.email=o,this.password=e}onSubmit(){return p(this,null,function*(){try{yield this.authService.login(this.email,this.password),this.router.navigate(["/home"])}catch(o){this.error=o.message||"Error al iniciar sesi\xF3n"}})}static \u0275fac=function(e){return new(e||n)(b(F),b(D))};static \u0275cmp=C({type:n,selectors:[["app-login"]],decls:31,vars:4,consts:[["loginForm","ngForm"],[1,"login-background"],[1,"container-fluid","d-flex","justify-content-center",2,"position","relative","z-index","1"],[1,"card","p-4","shadow","custom-card",2,"width","100%","max-width","400px"],[1,"text-center","mb-4"],[1,"mb-3","d-flex","flex-wrap","gap-2","justify-content-center"],["type","button",1,"btn","btn-outline-secondary","btn-sm",3,"click"],[3,"ngSubmit"],[1,"mb-3"],["for","email",1,"form-label"],["type","email","id","email","name","email","required","","placeholder","ejemplo@correo.com",1,"form-control",3,"ngModelChange","ngModel"],["for","password",1,"form-label"],["type","password","id","password","name","password","required","","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-dark","w-100",3,"disabled"],["class","text-danger mt-2 text-center",4,"ngIf"],[1,"mt-3","text-center"],["routerLink","/home/registro"],[1,"text-danger","mt-2","text-center"]],template:function(e,a){if(e&1){let m=w();f(0,"div",1),i(1,"div",2)(2,"div",3)(3,"h4",4),r(4,"Iniciar sesi\xF3n"),t(),i(5,"div",5)(6,"button",6),_("click",function(){return v(m),h(a.autofill("jugador1@test.com","123456"))}),r(7,"User 1"),t(),i(8,"button",6),_("click",function(){return v(m),h(a.autofill("pepito@test.com","pepito23"))}),r(9,"User 2"),t(),i(10,"button",6),_("click",function(){return v(m),h(a.autofill("pedritorico@hoho.com","123456"))}),r(11,"User 3"),t(),i(12,"button",6),_("click",function(){return v(m),h(a.autofill("admin1@admin.com","123456"))}),r(13,"Admin"),t()(),i(14,"form",7,0),_("ngSubmit",function(){return v(m),h(a.onSubmit())}),i(16,"div",8)(17,"label",9),r(18,"Correo electr\xF3nico"),t(),i(19,"input",10),k("ngModelChange",function(d){return v(m),O(a.email,d)||(a.email=d),h(d)}),t()(),i(20,"div",8)(21,"label",11),r(22,"Contrase\xF1a"),t(),i(23,"input",12),k("ngModelChange",function(d){return v(m),O(a.password,d)||(a.password=d),h(d)}),t()(),i(24,"button",13),r(25," Ingresar "),t()(),u(26,Ye,2,1,"div",14),i(27,"p",15),r(28," \xBFNo tienes cuenta? "),i(29,"a",16),r(30,"Reg\xEDstrate aqu\xED"),t()()()()}if(e&2){let m=ee(15);s(19),P("ngModel",a.email),s(4),P("ngModel",a.password),s(),l("disabled",!m.valid),s(2),l("ngIf",a.error)}},dependencies:[z,V,N,T,A,Q,G,W,y,S],styles:['[_nghost-%COMP%]{display:block;height:100%;width:100%}.login-background[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:-1;background:url("./media/bebidas-4KYQBVET.jpg") no-repeat center center;background-size:cover}[_nghost-%COMP%]     .container-fluid.d-flex.justify-content-center{min-height:100vh;align-items:center;display:flex;justify-content:center}']})};function Ze(n,o){n&1&&(i(0,"li",9)(1,"a",15),r(2,"Encuesta"),t()())}function Xe(n,o){n&1&&(i(0,"li",9)(1,"a",16),r(2,"Puntajes"),t()())}function $e(n,o){n&1&&(i(0,"li",9)(1,"a",17),r(2,"Login"),t()())}function et(n,o){if(n&1&&(i(0,"li",9)(1,"span",18),r(2),t()()),n&2){let e=x();s(2),c(e.userEmail)}}function tt(n,o){n&1&&(i(0,"li",9)(1,"a",19),r(2,"Encuestas"),t()())}function nt(n,o){if(n&1){let e=w();i(0,"li",9)(1,"button",20),_("click",function(){v(e);let m=x();return h(m.logout())}),r(2,"Logout"),t()()}}function it(n,o){n&1&&(i(0,"li",9)(1,"a",21),r(2,"Chat"),t()())}var me=class n{constructor(o,e){this.authService=o;this.router=e}userEmail=null;esAdmin=!1;sub;ngOnInit(){this.sub=this.authService.userEmail$.subscribe(o=>p(this,null,function*(){this.userEmail=o,o?this.esAdmin=yield this.authService.isAdmin():this.esAdmin=!1,console.log("Email del usuario:",this.userEmail)}))}logout(){this.authService.logout(),this.router.navigate(["/home"])}ngOnDestroy(){this.sub?.unsubscribe()}static \u0275fac=function(e){return new(e||n)(b(D),b(F))};static \u0275cmp=C({type:n,selectors:[["app-home"]],decls:28,vars:7,consts:[[1,"home-background"],[2,"position","relative","z-index","1"],[1,"navbar","navbar-expand-lg","navbar-light","bg-light"],[1,"container-fluid"],["routerLink","/home",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav"],[1,"nav-item"],["routerLink","/home",1,"nav-link"],["routerLink","/juegos",1,"nav-link"],["class","nav-item",4,"ngIf"],["routerLink","/home/quien-soy",1,"nav-link"],[1,"container","mt-4"],["routerLink","/home/encuesta",1,"nav-link"],["routerLink","/home/puntaje",1,"nav-link"],["routerLink","/home/login",1,"nav-link"],[1,"nav-link","disabled"],["routerLink","/home/encuestas",1,"nav-link"],[1,"btn","btn-link","nav-link",3,"click"],["routerLink","/home/chat",1,"nav-link"]],template:function(e,a){e&1&&(f(0,"div",0),i(1,"div",1)(2,"nav",2)(3,"div",3)(4,"a",4),r(5,"Sala de Juegos"),t(),i(6,"button",5),f(7,"span",6),t(),i(8,"div",7)(9,"ul",8)(10,"li",9)(11,"a",10),r(12,"Home"),t()(),i(13,"li",9)(14,"a",11),r(15,"Juegos"),t()(),u(16,Ze,3,0,"li",12)(17,Xe,3,0,"li",12)(18,$e,3,0,"li",12)(19,et,3,1,"li",12)(20,tt,3,0,"li",12)(21,nt,3,0,"li",12),i(22,"li",9)(23,"a",13),r(24,"\xBFQui\xE9n soy?"),t()(),u(25,it,3,0,"li",12),t()()()(),i(26,"div",14),f(27,"router-outlet"),t()()),e&2&&(s(16),l("ngIf",a.userEmail),s(),l("ngIf",a.userEmail),s(),l("ngIf",!a.userEmail),s(),l("ngIf",a.userEmail),s(),l("ngIf",a.esAdmin),s(),l("ngIf",a.userEmail),s(4),l("ngIf",a.userEmail))},dependencies:[oe,ie,De,y,S],styles:['.home-background[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:-1;background:url("./media/fondoSala-ONVKTRBG.jpg") no-repeat center center;background-size:cover}[_nghost-%COMP%]{display:block;height:100%;width:100%}.home-background[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:-1;background:url("./media/fondoSala-ONVKTRBG.jpg") no-repeat center center;background-size:cover}[_nghost-%COMP%]     .container-fluid.d-flex.justify-content-center{min-height:100vh;align-items:center;display:flex;justify-content:center}']})};var ce=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=C({type:n,selectors:[["app-quien-soy"]],decls:22,vars:0,consts:[[1,"container","mt-4"],[1,"card","p-4","shadow",2,"background-color","rgba(0, 0, 0, 0.6)","color","white"],[1,"mb-3"],[1,"mb-3","text-center"],["src","assets/mi-foto.jpg","alt","Mi Foto","width","200",1,"img-thumbnail"]],template:function(e,a){e&1&&(i(0,"div",0)(1,"div",1)(2,"h3",2),r(3,"\xBFQui\xE9n soy?"),t(),i(4,"div",3),f(5,"img",4),t(),i(6,"p")(7,"strong"),r(8,"Nombre:"),t(),r(9," Alan Magari\xF1os"),t(),i(10,"p")(11,"strong"),r(12,"Edad:"),t(),r(13," 35 a\xF1os"),t(),i(14,"p")(15,"strong"),r(16,"Carrera:"),t(),r(17," Tecnicatura universitaria en programaci\xF3n"),t(),i(18,"p")(19,"strong"),r(20,"Sobre mi juego:"),t(),r(21," Es un juego de anagramas en el cual aparecen letras desordenadas y el jugador debe elegir la palabra correcta entre varias opciones. El objetivo es adivinar la palabra original a partir del anagrama presentado. "),t()()())},styles:[".card[_ngcontent-%COMP%]{background:#0006;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);border-radius:16px;box-shadow:0 8px 20px #0000004d;padding:30px;color:#fff;font-family:Fredoka One,Comic Sans MS,cursive,sans-serif;transition:transform .3s ease,box-shadow .3s ease}.card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 12px 28px #0006}.card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:12px;border:2px solid rgba(255,255,255,.3)}.card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:12px}.card[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:gold}"]})};function ot(n,o){if(n&1){let e=w();i(0,"div",4)(1,"div",5),_("click",function(){let m=v(e).$implicit,g=x();return h(g.jugar(m.ruta))})("keydown.enter",function(){let m=v(e).$implicit,g=x();return h(g.jugar(m.ruta))}),i(2,"div",6),f(3,"img",7),i(4,"h5",8),r(5),t()()()()}if(n&2){let e=o.$implicit;s(3),l("src",e.imagen,je)("alt",e.nombre),s(2),c(e.nombre)}}var de=class n{constructor(o){this.router=o}juegos=[{nombre:"Ahorcado",ruta:"/home/juegos/ahorcado",imagen:"assets/ahorcado.png"},{nombre:"Mayor o Menor",ruta:"/home/juegos/mayor-menor",imagen:"assets/mayor-menor.png"},{nombre:"Preguntados",ruta:"/home/juegos/preguntados",imagen:"assets/preguntados.png"},{nombre:"Anagrama",ruta:"/home/juegos/anagrama",imagen:"assets/anagrama.png"}];jugar(o){this.router.navigate([o])}static \u0275fac=function(e){return new(e||n)(b(F))};static \u0275cmp=C({type:n,selectors:[["app-catalogo"]],decls:5,vars:1,consts:[[1,"container","my-5"],[1,"text-center","mb-4"],[1,"row","g-4","justify-content-center"],["class","col-12 col-md-6",4,"ngFor","ngForOf"],[1,"col-12","col-md-6"],["role","button","tabindex","0",1,"card","h-100","text-center","shadow-sm","card-clickable","juego-card",3,"click","keydown.enter"],[1,"card-body","d-flex","flex-column","justify-content-between","align-items-center"],[1,"game-pic","mb-3",3,"src","alt"],[1,"card-title"]],template:function(e,a){e&1&&(i(0,"div",0)(1,"h2",1),r(2,"Juegos"),t(),i(3,"div",2),u(4,ot,6,3,"div",3),t()()),e&2&&(s(4),l("ngForOf",a.juegos))},dependencies:[y,M],styles:['.card[_ngcontent-%COMP%]{border-radius:1rem;overflow:hidden;transition:transform .3s ease,box-shadow .3s ease;background:#ffffffe6;padding:1rem}.card[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 12px 30px #00000059}.game-pic[_ngcontent-%COMP%]{width:120px;height:120px;object-fit:contain;margin-bottom:.75rem}.card-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding:1rem}.card-clickable[_ngcontent-%COMP%]{cursor:pointer;border:1px solid #dee2e6}.card-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;text-align:center;color:#333}.card-clickable[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff6ec7,#ffc66e);color:#fff;border:none;box-shadow:0 4px 15px #ff6ec766;transition:transform .3s,box-shadow .3s}.card-clickable[_ngcontent-%COMP%]:hover{transform:scale(1.08);box-shadow:0 12px 25px #ff6ec7b3}@media (min-width: 768px){.col-md-6[_ngcontent-%COMP%]{flex:0 0 50%;max-width:50%}}.row.justify-content-center[_ngcontent-%COMP%]{justify-content:center}h2.text-center[_ngcontent-%COMP%]{color:#fff;font-family:"Press Start 2P",cursive;text-shadow:2px 2px 4px #000000,0 0 10px #ff6ec7,0 0 20px #ff6ec7;font-weight:700;letter-spacing:2px}']})};var pe=class n{supabase;canalMensajes=null;constructor(){this.supabase=re(J.supabaseUrl,J.supabaseAnonKey)}getMensajes(){return p(this,null,function*(){let{data:o,error:e}=yield this.supabase.from("chat").select("*").order("created_at",{ascending:!0});if(e)throw e;return o})}enviarMensaje(o,e){return p(this,null,function*(){let{error:a}=yield this.supabase.from("chat").insert([{usuario:o,mensaje:e}]);if(a)throw a})}suscribirseMensajes(o){this.canalMensajes&&this.supabase.removeChannel(this.canalMensajes),this.canalMensajes=this.supabase.channel("mensajes-channel").on("postgres_changes",{event:"INSERT",schema:"public",table:"chat"},e=>{let a=e.new;o(a)}).subscribe(e=>{e==="SUBSCRIBED"?console.log("Suscrito a los mensajes del chat"):console.warn("Error al suscribirse a los mensajes del chat:",e)})}desconectar(){this.canalMensajes&&this.supabase.removeChannel(this.canalMensajes)}static \u0275fac=function(e){return new(e||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})};var at=["chatScroll"],st=(n,o)=>({"mensaje-propio":n,"mensaje-ajeno":o});function lt(n,o){if(n&1&&(i(0,"div")(1,"div",16)(2,"div",17)(3,"div",18)(4,"span",10),r(5),t(),f(6,"br"),i(7,"span"),r(8),t()(),i(9,"div",19),r(10),B(11,"date"),t()()()()),n&2){let e=o.$implicit,a=x();s(),l("ngClass",Pe(7,st,a.usuarioEsPropio(e.usuario),!a.usuarioEsPropio(e.usuario))),s(4),c(e.usuario),s(3),c(e.mensaje),s(2),Ie(" ",q(11,4,e.created_at,"shortTime")," ")}}function mt(n,o){n&1&&(i(0,"div",20),r(1," No hay mensajes "),t())}function ct(n,o){if(n&1&&(i(0,"div",21),r(1),t()),n&2){let e=x();s(),c(e.error)}}var ue=class n{constructor(o){this.chatService=o}mensajes=[];usuario="";mensaje="";error="";chatScroll;ngOnInit(){return p(this,null,function*(){this.usuario=localStorage.getItem("userEmail")||"",yield this.cargarMensajes(),this.chatService.suscribirseMensajes(o=>{this.mensajes.push(o),setTimeout(()=>this.scrollToBottom(),0)})})}ngOnDestroy(){this.chatService.desconectar()}cargarMensajes(){return p(this,null,function*(){try{this.mensajes=yield this.chatService.getMensajes(),setTimeout(()=>this.scrollToBottom(),0)}catch{this.error="Error al cargar mensajes"}})}enviar(){return p(this,null,function*(){if(!(!this.usuario.trim()||!this.mensaje.trim()))try{yield this.chatService.enviarMensaje(this.usuario,this.mensaje),this.mensaje=""}catch{this.error="Error al enviar mensaje"}})}scrollToBottom(){try{let o=this.chatScroll.nativeElement;o.scrollTop=o.scrollHeight}catch(o){console.error("No se pudo hacer scroll:",o)}}usuarioEsPropio(o){let e=(this.usuario??"").toString().trim().toLowerCase();return e?(o??"").toString().trim().toLowerCase()===e:!1}static \u0275fac=function(e){return new(e||n)(b(pe))};static \u0275cmp=C({type:n,selectors:[["app-chat"]],viewQuery:function(e,a){if(e&1&&we(at,5),e&2){let m;Me(m=Fe())&&(a.chatScroll=m.first)}},decls:19,vars:5,consts:[["chatScroll",""],[1,"container","mt-4",2,"max-width","600px"],[1,"card","shadow"],[1,"card-header","bg-dark","text-white"],[1,"card-body","chat-body"],[4,"ngFor","ngForOf"],["class","text-center text-muted",4,"ngIf"],[1,"card-footer"],[1,"row","g-2","align-items-center",3,"ngSubmit"],[1,"col-4","d-flex","align-items-center"],[1,"fw-bold"],[1,"col-6"],["type","text","placeholder","Mensaje","name","mensaje","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-2"],["type","submit",1,"btn","btn-dark","w-100"],["class","text-danger mt-2",4,"ngIf"],[3,"ngClass"],[1,"mensaje"],[1,"contenido"],[1,"hora","text-muted","small"],[1,"text-center","text-muted"],[1,"text-danger","mt-2"]],template:function(e,a){if(e&1){let m=w();i(0,"div",1)(1,"div",2)(2,"div",3),r(3," Chat "),t(),i(4,"div",4,0),u(6,lt,12,10,"div",5)(7,mt,2,0,"div",6),t(),i(8,"div",7)(9,"form",8),_("ngSubmit",function(){return v(m),h(a.enviar())}),i(10,"div",9)(11,"span",10),r(12),t()(),i(13,"div",11)(14,"input",12),k("ngModelChange",function(d){return v(m),O(a.mensaje,d)||(a.mensaje=d),h(d)}),t()(),i(15,"div",13)(16,"button",14),r(17,"Enviar"),t()()(),u(18,ct,2,1,"div",15),t()()()}e&2&&(s(6),l("ngForOf",a.mensajes),s(),l("ngIf",a.mensajes.length===0),s(5),c(a.usuario),s(2),P("ngModel",a.mensaje),s(4),l("ngIf",a.error))},dependencies:[y,ne,M,S,H,z,V,N,T,A,Q,G,W],styles:['.chat-body[_ngcontent-%COMP%]{height:300px;overflow-y:auto;padding:10px;background:#ece5dd;display:flex;flex-direction:column}.mensaje-propio[_ngcontent-%COMP%], .mensaje-ajeno[_ngcontent-%COMP%]{display:flex;margin-bottom:10px}.mensaje-propio[_ngcontent-%COMP%]{justify-content:flex-end}.mensaje-ajeno[_ngcontent-%COMP%]{justify-content:flex-start}.mensaje[_ngcontent-%COMP%]{max-width:70%;padding:8px 12px;border-radius:15px;word-wrap:break-word;position:relative}.mensaje-propio[_ngcontent-%COMP%]   .mensaje[_ngcontent-%COMP%]{background-color:#dcf8c6;text-align:right;border-bottom-right-radius:0}.mensaje-propio[_ngcontent-%COMP%]   .mensaje[_ngcontent-%COMP%]:after{content:"";position:absolute;right:-10px;bottom:0;width:0;height:0;border-left:10px solid #dcf8c6;border-top:10px solid transparent;border-bottom:0 solid transparent}.mensaje-ajeno[_ngcontent-%COMP%]   .mensaje[_ngcontent-%COMP%]{background-color:#fff;text-align:left;border-bottom-left-radius:0}.mensaje-ajeno[_ngcontent-%COMP%]   .mensaje[_ngcontent-%COMP%]:after{content:"";position:absolute;left:-10px;bottom:0;width:0;height:0;border-right:10px solid #ffffff;border-top:10px solid transparent;border-bottom:0 solid transparent}:is()   .chat-body[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto;padding:10px;display:flex;flex-direction:column}:is()   .mensaje-propio[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin:5px 0}:is()   .mensaje-ajeno[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;margin:5px 0}:is()   .mensaje[_ngcontent-%COMP%]{max-width:70%;padding:8px 12px;border-radius:12px;box-shadow:0 1px 3px #0003}:is()   .mensaje-propio[_ngcontent-%COMP%]   .mensaje[_ngcontent-%COMP%]{background-color:#d1e7dd;text-align:right}:is()   .mensaje-ajeno[_ngcontent-%COMP%]   .mensaje[_ngcontent-%COMP%]{background-color:#f8f9fa;text-align:left}.hora[_ngcontent-%COMP%]{font-size:.7rem;margin-top:4px;display:block}']})};function dt(n,o){if(n&1&&(i(0,"div",12),r(1),t()),n&2){let e=x();s(),c(e.error)}}var fe=class n{constructor(o,e){this.authService=o;this.router=e}email="";password="";error="";onSubmit(){return p(this,null,function*(){try{yield this.authService.register(this.email,this.password),this.router.navigate(["/home"])}catch(o){this.error=o.message||"Error al registrar usuario"}})}static \u0275fac=function(e){return new(e||n)(b(D),b(F))};static \u0275cmp=C({type:n,selectors:[["app-registro"]],decls:17,vars:4,consts:[["registerForm","ngForm"],[1,"container","mt-5","d-flex","justify-content-center"],[1,"card","p-4","shadow",2,"width","100%","max-width","400px"],[1,"text-center","mb-4"],[3,"ngSubmit"],[1,"mb-3"],["for","email",1,"form-label"],["type","email","id","email","name","email","required","","placeholder","ejemplo@correo.com",1,"form-control",3,"ngModelChange","ngModel"],["for","password",1,"form-label"],["type","password","id","password","name","password","required","","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-dark","w-100",3,"disabled"],["class","text-danger mt-2 text-center",4,"ngIf"],[1,"text-danger","mt-2","text-center"]],template:function(e,a){if(e&1){let m=w();i(0,"div",1)(1,"div",2)(2,"h4",3),r(3,"Registro"),t(),i(4,"form",4,0),_("ngSubmit",function(){return v(m),h(a.onSubmit())}),i(6,"div",5)(7,"label",6),r(8,"Correo electr\xF3nico"),t(),i(9,"input",7),k("ngModelChange",function(d){return v(m),O(a.email,d)||(a.email=d),h(d)}),t()(),i(10,"div",5)(11,"label",8),r(12,"Contrase\xF1a"),t(),i(13,"input",9),k("ngModelChange",function(d){return v(m),O(a.password,d)||(a.password=d),h(d)}),t()(),i(14,"button",10),r(15," Registrarse "),t()(),u(16,dt,2,1,"div",11),t()()}if(e&2){let m=ee(5);s(9),P("ngModel",a.email),s(4),P("ngModel",a.password),s(),l("disabled",!m.valid),s(2),l("ngIf",a.error)}},dependencies:[y,S,z,V,N,T,A,Q,G,W],encapsulation:2})};var U=class n{supabase;constructor(){this.supabase=re(J.supabaseUrl,J.supabaseAnonKey)}obtenerEncuestas(){return p(this,null,function*(){let{data:o,error:e}=yield this.supabase.from("encuestas").select("*").order("fecha_creacion",{ascending:!1});if(e)throw console.error("Error al obtener encuestas:",e),e;return o})}insertEncuesta(o){return p(this,null,function*(){let{data:e,error:a}=yield this.supabase.from("encuestas").insert([o]);if(a)throw a;return e})}static \u0275fac=function(e){return new(e||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})};var Se=n=>({"is-invalid":n});function pt(n,o){n&1&&(i(0,"div",23),r(1," Nombre y apellido son obligatorios y solo pueden contener letras y espacios. "),t())}function ut(n,o){n&1&&(i(0,"div",23),r(1," La edad debe estar entre 18 y 99 a\xF1os. "),t())}function ft(n,o){n&1&&(i(0,"div",23),r(1," El tel\xE9fono debe contener solo n\xFAmeros y no m\xE1s de 10 caracteres. "),t())}function gt(n,o){if(n&1&&(i(0,"div")(1,"div",24),f(2,"input",25),i(3,"label",26),r(4),t()()()),n&2){let e=o.$implicit;s(2),l("value",e)("id",e),s(),l("for",e),s(),c(e)}}function vt(n,o){n&1&&(i(0,"div",27),r(1," Seleccion\xE1 un juego. "),t())}function ht(n,o){n&1&&(i(0,"div",27),r(1," Deb\xE9s confirmar antes de enviar. "),t())}var ge=class n{constructor(o,e){this.fb=o;this.encuestaService=e}encuestaForm;juegos=["Ahorcado","Mayor Menor","Preguntados","Anagrama"];ngOnInit(){this.encuestaForm=this.fb.group({nombreApellido:["",[E.required,E.pattern(/^[a-zA-Z\s]+$/)]],edad:["",[E.required,E.min(18),E.max(99)]],telefono:["",[E.required,E.pattern(/^\d+$/),E.maxLength(10)]],juegoFavorito:["",E.required],juegoFaltante:["",[E.maxLength(100)]],sugerencias:["",[E.maxLength(200)]],confirmacion:[!1,E.requiredTrue]})}onSubmit(){return p(this,null,function*(){if(this.encuestaForm.valid){let o={nombre_apellido:this.encuestaForm.value.nombreApellido,edad:this.encuestaForm.value.edad,telefono:this.encuestaForm.value.telefono,juego_favorito:this.encuestaForm.value.juegoFavorito,juego_faltante:this.encuestaForm.value.juegoFaltante,sugerencias:this.encuestaForm.value.sugerencias};try{yield this.encuestaService.insertEncuesta(o),alert("Encuesta enviada con \xE9xito"),this.encuestaForm.reset()}catch(e){console.error(" Error al enviar la encuesta:",e),alert("Error al enviar la encuesta")}}else this.encuestaForm.markAllAsTouched(),console.error("Formulario inv\xE1lido")})}static \u0275fac=function(e){return new(e||n)(b(Ge),b(U))};static \u0275cmp=C({type:n,selectors:[["app-encuesta"]],decls:40,vars:17,consts:[[1,"container","mt-5"],[1,"card","encuesta-card","p-4","shadow"],[1,"text-center","mb-4"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","nombreApellido",1,"form-label"],["id","nombreApellido","type","text","formControlName","nombreApellido",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","edad",1,"form-label"],["id","edad","type","number","formControlName","edad",1,"form-control",3,"ngClass"],["for","telefono",1,"form-label"],["id","telefono","type","text","formControlName","telefono",1,"form-control",3,"ngClass"],["for","juegoFaltante",1,"form-label"],["id","juegoFaltante","type","text","formControlName","juegoFaltante",1,"form-control"],[1,"form-label"],[4,"ngFor","ngForOf"],["class","text-danger",4,"ngIf"],["for","sugerencias",1,"form-label"],["id","sugerencias","formControlName","sugerencias","rows","3",1,"form-control"],[1,"mb-3","form-check"],["type","checkbox","id","confirmacion","formControlName","confirmacion",1,"form-check-input"],["for","confirmacion",1,"form-check-label"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"invalid-feedback"],[1,"form-check"],["type","radio","formControlName","juegoFavorito",1,"form-check-input",3,"value","id"],[1,"form-check-label",3,"for"],[1,"text-danger"]],template:function(e,a){if(e&1&&(i(0,"div",0)(1,"div",1)(2,"h2",2),r(3,"Encuesta"),t(),i(4,"form",3),_("ngSubmit",function(){return a.onSubmit()}),i(5,"div",4)(6,"label",5),r(7,"Nombre y Apellido"),t(),f(8,"input",6),u(9,pt,2,0,"div",7),t(),i(10,"div",4)(11,"label",8),r(12,"Edad"),t(),f(13,"input",9),u(14,ut,2,0,"div",7),t(),i(15,"div",4)(16,"label",10),r(17,"Tel\xE9fono"),t(),f(18,"input",11),u(19,ft,2,0,"div",7),t(),i(20,"div",4)(21,"label",12),r(22,"\xBFQu\xE9 juego pens\xE1s que falta?"),t(),f(23,"input",13),t(),i(24,"div",4)(25,"label",14),r(26,"\xBFQu\xE9 juego te gust\xF3 m\xE1s?"),t(),u(27,gt,5,4,"div",15)(28,vt,2,0,"div",16),t(),i(29,"div",4)(30,"label",17),r(31,"Sugerencias generales"),t(),f(32,"textarea",18),t(),i(33,"div",19),f(34,"input",20),i(35,"label",21),r(36," Confirmo que complet\xE9 y le\xED todo correctamente. "),t(),u(37,ht,2,0,"div",16),t(),i(38,"button",22),r(39,"Enviar"),t()()()()),e&2){let m,g,d,K,Y,Z,X,$;s(4),l("formGroup",a.encuestaForm),s(4),l("ngClass",te(11,Se,((m=a.encuestaForm.get("nombreApellido"))==null?null:m.invalid)&&((m=a.encuestaForm.get("nombreApellido"))==null?null:m.touched))),s(),l("ngIf",((g=a.encuestaForm.get("nombreApellido"))==null?null:g.invalid)&&((g=a.encuestaForm.get("nombreApellido"))==null?null:g.touched)),s(4),l("ngClass",te(13,Se,((d=a.encuestaForm.get("edad"))==null?null:d.invalid)&&((d=a.encuestaForm.get("edad"))==null?null:d.touched))),s(),l("ngIf",((K=a.encuestaForm.get("edad"))==null?null:K.invalid)&&((K=a.encuestaForm.get("edad"))==null?null:K.touched)),s(4),l("ngClass",te(15,Se,((Y=a.encuestaForm.get("telefono"))==null?null:Y.invalid)&&((Y=a.encuestaForm.get("telefono"))==null?null:Y.touched))),s(),l("ngIf",((Z=a.encuestaForm.get("telefono"))==null?null:Z.invalid)&&((Z=a.encuestaForm.get("telefono"))==null?null:Z.touched)),s(8),l("ngForOf",a.juegos),s(),l("ngIf",((X=a.encuestaForm.get("juegoFavorito"))==null?null:X.invalid)&&((X=a.encuestaForm.get("juegoFavorito"))==null?null:X.touched)),s(9),l("ngIf",(($=a.encuestaForm.get("confirmacion"))==null?null:$.invalid)&&(($=a.encuestaForm.get("confirmacion"))==null?null:$.touched)),s(),l("disabled",a.encuestaForm.invalid)}},dependencies:[Qe,V,N,Be,Le,qe,T,A,He,We,y,ne,M,S],styles:["[_nghost-%COMP%]     .encuesta-card{background:#00000080;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);border-radius:16px;box-shadow:0 8px 20px #0000004d;color:#fff;font-family:Fredoka One,Comic Sans MS,cursive,sans-serif;padding:30px}[_nghost-%COMP%]     .encuesta-card input, [_nghost-%COMP%]     .encuesta-card textarea, [_nghost-%COMP%]     .encuesta-card select{background:#ffffffe6;color:#000;border-radius:8px;border:1px solid #ccc}[_nghost-%COMP%]     .encuesta-card button{font-family:Fredoka One,cursive}[_nghost-%COMP%]     .encuesta-card .form-check-label{color:#fff}"]})};function bt(n,o){n&1&&(i(0,"div",6),r(1,"Cargando encuestas..."),t())}function Ct(n,o){if(n&1&&(i(0,"div",7),r(1),t()),n&2){let e=x();s(),c(e.error)}}function xt(n,o){if(n&1&&(i(0,"tr")(1,"td"),r(2),t(),i(3,"td"),r(4),t(),i(5,"td"),r(6),t(),i(7,"td"),r(8),t(),i(9,"td"),r(10),t(),i(11,"td"),r(12),t(),i(13,"td"),r(14),B(15,"date"),t()()),n&2){let e=o.$implicit;s(2),c(e.nombre_apellido),s(2),c(e.edad),s(2),c(e.telefono),s(2),c(e.juego_favorito),s(2),c(e.juego_faltante||"\u2014"),s(2),c(e.sugerencias||"\u2014"),s(2),c(q(15,7,e.fecha_creacion,"short"))}}function _t(n,o){if(n&1&&(i(0,"table",8)(1,"thead",9)(2,"tr")(3,"th"),r(4,"Nombre y Apellido"),t(),i(5,"th"),r(6,"Edad"),t(),i(7,"th"),r(8,"Tel\xE9fono"),t(),i(9,"th"),r(10,"Juego Favorito"),t(),i(11,"th"),r(12,"Juego Faltante"),t(),i(13,"th"),r(14,"Sugerencias"),t(),i(15,"th"),r(16,"Fecha"),t()()(),i(17,"tbody"),u(18,xt,16,10,"tr",10),t()()),n&2){let e=x();s(18),l("ngForOf",e.encuestas)}}function yt(n,o){n&1&&(i(0,"div",11),r(1," No hay encuestas registradas por el momento. "),t())}var ve=class n{constructor(o){this.encuestasService=o}encuestas=[];cargando=!0;error=null;ngOnInit(){return p(this,null,function*(){try{this.encuestas=yield this.encuestasService.obtenerEncuestas()}catch{this.error="No se pudieron cargar las encuestas."}finally{this.cargando=!1}})}static \u0275fac=function(e){return new(e||n)(b(U))};static \u0275cmp=C({type:n,selectors:[["app-encuestas"]],decls:7,vars:4,consts:[[1,"container","mt-5"],[1,"mb-4","text-center"],["class","alert alert-info",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],["class","table table-bordered table-hover",4,"ngIf"],["class","alert alert-warning",4,"ngIf"],[1,"alert","alert-info"],[1,"alert","alert-danger"],[1,"table","table-bordered","table-hover"],[1,"table-dark"],[4,"ngFor","ngForOf"],[1,"alert","alert-warning"]],template:function(e,a){e&1&&(i(0,"div",0)(1,"h2",1),r(2,"Encuestas Recibidas"),t(),u(3,bt,2,0,"div",2)(4,Ct,2,1,"div",3)(5,_t,19,1,"table",4)(6,yt,2,0,"div",5),t()),e&2&&(s(3),l("ngIf",a.cargando),s(),l("ngIf",a.error),s(),l("ngIf",!a.cargando&&a.encuestas.length>0),s(),l("ngIf",!a.cargando&&a.encuestas.length===0))},dependencies:[y,M,S,H],encapsulation:2})};function St(n,o){n&1&&(i(0,"div",5),r(1,"Cargando puntajes..."),t())}function Et(n,o){if(n&1&&(i(0,"div",6),r(1),t()),n&2){let e=x();s(),c(e.error)}}function jt(n,o){if(n&1&&(i(0,"tr")(1,"td"),r(2),t(),i(3,"td"),r(4),t(),i(5,"td"),r(6),t(),i(7,"td"),r(8),B(9,"date"),t()()),n&2){let e=o.$implicit;s(2),c(e.usuario),s(2),c(e.juego),s(2),c(e.puntaje),s(2),c(q(9,4,e.created_at,"short"))}}function wt(n,o){if(n&1&&(i(0,"table",7)(1,"thead")(2,"tr")(3,"th"),r(4,"Jugador"),t(),i(5,"th"),r(6,"Juego"),t(),i(7,"th"),r(8,"Puntaje"),t(),i(9,"th"),r(10,"Fecha"),t()()(),i(11,"tbody"),u(12,jt,10,7,"tr",8),t()()),n&2){let e=x();s(12),l("ngForOf",e.puntajes)}}function Mt(n,o){n&1&&(i(0,"div",5),r(1," No hay puntajes cargados a\xFAn. "),t())}var he=class n{constructor(o){this.puntajesService=o}puntajes=[];cargando=!0;error=null;ngOnInit(){return p(this,null,function*(){try{this.puntajes=yield this.puntajesService.obtenerTodosLosPuntajes()}catch{this.error="No se pudieron cargar los puntajes."}finally{this.cargando=!1}})}static \u0275fac=function(e){return new(e||n)(b(ze))};static \u0275cmp=C({type:n,selectors:[["app-puntaje"]],decls:7,vars:4,consts:[[1,"container","my-5"],[1,"text-center","mb-4"],["class","text-center",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],["class","table table-striped",4,"ngIf"],[1,"text-center"],[1,"alert","alert-danger"],[1,"table","table-striped"],[4,"ngFor","ngForOf"]],template:function(e,a){e&1&&(i(0,"div",0)(1,"h2",1),r(2,"Puntajes Generales"),t(),u(3,St,2,0,"div",2)(4,Et,2,1,"div",3)(5,wt,13,1,"table",4)(6,Mt,2,0,"div",2),t()),e&2&&(s(3),l("ngIf",a.cargando),s(),l("ngIf",a.error),s(),l("ngIf",!a.cargando&&a.puntajes.length),s(),l("ngIf",!a.cargando&&!a.puntajes.length))},dependencies:[y,M,S,H],encapsulation:2})};var be=class n{constructor(o,e){this.authService=o;this.router=e}canActivate(){return p(this,null,function*(){let o=this.authService.getUserEmail();if(!o)return this.router.navigate(["/home"]),!1;try{return(yield this.authService.getUsuarioPorEmail(o)).perfil==="administrador"?!0:(this.router.navigate(["/home"]),!1)}catch(e){return console.error("Error al verificar perfil:",e),this.router.navigate(["/home"]),!1}})}static \u0275fac=function(e){return new(e||n)(xe(D),xe(F))};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})};var Ue=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:me,children:[{path:"",component:de},{path:"quien-soy",component:ce},{path:"login",component:se},{path:"registro",component:fe},{path:"juegos",loadChildren:()=>import("./chunk-FQEVKCQN.js").then(n=>n.JuegosModule)},{path:"chat",component:ue,canActivate:[ae]},{path:"encuesta",component:ge,canActivate:[ae]},{path:"encuestas",component:ve,canActivate:[be]},{path:"puntaje",component:he,canActivate:[ae]}]},{path:"**",redirectTo:"home"}];var Ke={providers:[Oe({eventCoalescing:!0}),Ee(Ne,oe),Re(Ue),Ve(Ae()),Te()]};var Ce=class n{title="salaDeJuegos";static \u0275fac=function(e){return new(e||n)};static \u0275cmp=C({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(e,a){e&1&&f(0,"router-outlet")},dependencies:[ie],encapsulation:2})};ke(Ce,Ke).catch(n=>console.error(n));
