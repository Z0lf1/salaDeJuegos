import{$ as k,A as N,B as T,C as A,E as te,G as q,H as B,I as Me,J as Ne,K as F,L as E,M as H,N as y,O as Te,P as Ae,R as ke,T as De,U as Pe,V as ne,W as I,X as Ve,Y as Re,Z as ie,_ as Oe,a as L,aa as x,ba as D,c as Ce,ca as P,d as Ee,da as W,e as g,ea as G,f as v,fa as V,g as xe,ga as Le,h as l,ha as qe,i as h,ia as Be,j as b,ja as He,ka as Q,l as d,la as We,m as s,ma as J,n as i,na as Ge,o as t,oa as oe,p as C,pa as U,q as w,qa as R,r as S,ra as re,s as _,sa as Qe,t as je,u as we,v as Fe,w as ee,x as r,y as c,z as Ie}from"./chunk-RWL5GRCC.js";import{g as u}from"./chunk-6AOLKZEJ.js";function Ke(n,o){if(n&1&&(i(0,"div",16),r(1),t()),n&2){let e=_();l(),c(e.error)}}var ae=class n{constructor(o,e){this.router=o;this.authService=e}email="";password="";error=null;autofill(o,e){this.email=o,this.password=e}onSubmit(){return u(this,null,function*(){try{yield this.authService.login(this.email,this.password),this.router.navigate(["/home"])}catch(o){this.error=o.message||"Error al iniciar sesi\xF3n"}})}static \u0275fac=function(e){return new(e||n)(h(I),h(R))};static \u0275cmp=b({type:n,selectors:[["app-login"]],decls:30,vars:4,consts:[["loginForm","ngForm"],[1,"container","mt-5","d-flex","justify-content-center"],[1,"card","p-4","shadow",2,"width","100%","max-width","400px"],[1,"text-center","mb-4"],[1,"mb-3","d-flex","flex-wrap","gap-2","justify-content-center"],["type","button",1,"btn","btn-outline-secondary","btn-sm",3,"click"],[3,"ngSubmit"],[1,"mb-3"],["for","email",1,"form-label"],["type","email","id","email","name","email","required","","placeholder","ejemplo@correo.com",1,"form-control",3,"ngModelChange","ngModel"],["for","password",1,"form-label"],["type","password","id","password","name","password","required","","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-dark","w-100",3,"disabled"],["class","text-danger mt-2 text-center",4,"ngIf"],[1,"mt-3","text-center"],["href","/home/registro","routerLink","/home/registro"],[1,"text-danger","mt-2","text-center"]],template:function(e,a){if(e&1){let m=w();i(0,"div",1)(1,"div",2)(2,"h4",3),r(3,"Iniciar sesi\xF3n"),t(),i(4,"div",4)(5,"button",5),S("click",function(){return g(m),v(a.autofill("jugador1@test.com","123456"))}),r(6,"User 1"),t(),i(7,"button",5),S("click",function(){return g(m),v(a.autofill("pepito@test.com","pepito23"))}),r(8,"User 2"),t(),i(9,"button",5),S("click",function(){return g(m),v(a.autofill("pedritorico@hoho.com","123456"))}),r(10,"User 3"),t(),i(11,"button",5),S("click",function(){return g(m),v(a.autofill("admin1@admin.com","123456"))}),r(12,"Admin"),t()(),i(13,"form",6,0),S("ngSubmit",function(){return g(m),v(a.onSubmit())}),i(15,"div",7)(16,"label",8),r(17,"Correo electr\xF3nico"),t(),i(18,"input",9),A("ngModelChange",function(p){return g(m),T(a.email,p)||(a.email=p),v(p)}),t()(),i(19,"div",7)(20,"label",10),r(21,"Contrase\xF1a"),t(),i(22,"input",11),A("ngModelChange",function(p){return g(m),T(a.password,p)||(a.password=p),v(p)}),t()(),i(23,"button",12),r(24," Ingresar "),t()(),d(25,Ke,2,1,"div",13),i(26,"p",14),r(27," \xBFNo tienes cuenta? "),i(28,"a",15),r(29,"Reg\xEDstrate aqu\xED"),t()()()()}if(e&2){let m=ee(14);l(18),N("ngModel",a.email),l(4),N("ngModel",a.password),l(),s("disabled",!m.valid),l(2),s("ngIf",a.error)}},dependencies:[J,V,k,D,P,Q,G,W,y,E],encapsulation:2})};function Ze(n,o){n&1&&(i(0,"li",7)(1,"a",13),r(2,"Encuesta"),t()())}function Xe(n,o){n&1&&(i(0,"li",7)(1,"a",14),r(2,"Puntajes"),t()())}function Ye(n,o){n&1&&(i(0,"li",7)(1,"a",15),r(2,"Login"),t()())}function $e(n,o){if(n&1&&(i(0,"li",7)(1,"span",16),r(2),t()()),n&2){let e=_();l(2),c(e.userEmail)}}function et(n,o){n&1&&(i(0,"li",7)(1,"a",17),r(2,"Encuestas"),t()())}function tt(n,o){if(n&1){let e=w();i(0,"li",7)(1,"button",18),S("click",function(){g(e);let m=_();return v(m.logout())}),r(2,"Logout"),t()()}}function nt(n,o){n&1&&(i(0,"li",7)(1,"a",19),r(2,"Chat"),t()())}var se=class n{constructor(o,e){this.authService=o;this.router=e}userEmail=null;esAdmin=!1;sub;ngOnInit(){this.sub=this.authService.userEmail$.subscribe(o=>u(this,null,function*(){this.userEmail=o,o?this.esAdmin=yield this.authService.isAdmin():this.esAdmin=!1,console.log("Email del usuario:",this.userEmail)}))}logout(){this.authService.logout(),this.router.navigate(["/home"])}ngOnDestroy(){this.sub?.unsubscribe()}static \u0275fac=function(e){return new(e||n)(h(R),h(I))};static \u0275cmp=b({type:n,selectors:[["app-home"]],decls:26,vars:7,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-light"],[1,"container-fluid"],["routerLink","/home",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav"],[1,"nav-item"],["routerLink","/home",1,"nav-link"],["routerLink","/juegos",1,"nav-link"],["class","nav-item",4,"ngIf"],["routerLink","/home/quien-soy",1,"nav-link"],[1,"container","mt-4"],["routerLink","/home/encuesta",1,"nav-link"],["routerLink","/home/puntaje",1,"nav-link"],["routerLink","/home/login",1,"nav-link"],[1,"nav-link","disabled"],["routerLink","/home/encuestas",1,"nav-link"],[1,"btn","btn-link","nav-link",3,"click"],["routerLink","/home/chat",1,"nav-link"]],template:function(e,a){e&1&&(i(0,"nav",0)(1,"div",1)(2,"a",2),r(3,"Sala de Juegos"),t(),i(4,"button",3),C(5,"span",4),t(),i(6,"div",5)(7,"ul",6)(8,"li",7)(9,"a",8),r(10,"Home"),t()(),i(11,"li",7)(12,"a",9),r(13,"Juegos"),t()(),d(14,Ze,3,0,"li",10)(15,Xe,3,0,"li",10)(16,Ye,3,0,"li",10)(17,$e,3,1,"li",10)(18,et,3,0,"li",10)(19,tt,3,0,"li",10),i(20,"li",7)(21,"a",11),r(22,"\xBFQui\xE9n soy?"),t()(),d(23,nt,3,0,"li",10),t()()()(),i(24,"div",12),C(25,"router-outlet"),t()),e&2&&(l(14),s("ngIf",a.userEmail),l(),s("ngIf",a.userEmail),l(),s("ngIf",!a.userEmail),l(),s("ngIf",a.userEmail),l(),s("ngIf",a.esAdmin),l(),s("ngIf",a.userEmail),l(4),s("ngIf",a.userEmail))},dependencies:[ie,ne,Ve,y,E],encapsulation:2})};var me=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=b({type:n,selectors:[["app-quien-soy"]],decls:22,vars:0,consts:[[1,"container","mt-4"],[1,"card","p-4","shadow"],[1,"mb-3"],[1,"mb-3","text-center"],["src","assets/mi-foto.jpg","alt","Mi Foto","width","200",1,"img-thumbnail"]],template:function(e,a){e&1&&(i(0,"div",0)(1,"div",1)(2,"h3",2),r(3,"\xBFQui\xE9n soy?"),t(),i(4,"div",3),C(5,"img",4),t(),i(6,"p")(7,"strong"),r(8,"Nombre:"),t(),r(9," Alan Magari\xF1os"),t(),i(10,"p")(11,"strong"),r(12,"Edad:"),t(),r(13," 35 a\xF1os"),t(),i(14,"p")(15,"strong"),r(16,"Carrera:"),t(),r(17," Tecnicatura universitaria en programaci\xF3n"),t(),i(18,"p")(19,"strong"),r(20,"Sobre mi juego:"),t(),r(21," Es un juego de anagramas en el cual aparecen letras desordenadas y el jugador debe elegir la palabra correcta entre varias opciones. El objetivo es adivinar la palabra original a partir del anagrama presentado. "),t()()())},encapsulation:2})};function it(n,o){if(n&1){let e=w();i(0,"div",4)(1,"div",5),S("click",function(){let m=g(e).$implicit,f=_();return v(f.jugar(m.ruta))})("keydown.enter",function(){let m=g(e).$implicit,f=_();return v(f.jugar(m.ruta))}),i(2,"div",6),C(3,"img",7),i(4,"h5",8),r(5),t()()()()}if(n&2){let e=o.$implicit;l(3),s("src",e.imagen,xe)("alt",e.nombre),l(2),c(e.nombre)}}var ce=class n{constructor(o){this.router=o}juegos=[{nombre:"Ahorcado",ruta:"/home/juegos/ahorcado",imagen:"assets/ahorcado.png"},{nombre:"Mayor o Menor",ruta:"/home/juegos/mayor-menor",imagen:"assets/mayor-menor.png"},{nombre:"Preguntados",ruta:"/home/juegos/preguntados",imagen:"assets/preguntados.png"},{nombre:"Anagrama",ruta:"/home/juegos/anagrama",imagen:"assets/anagrama.png"}];jugar(o){this.router.navigate([o])}static \u0275fac=function(e){return new(e||n)(h(I))};static \u0275cmp=b({type:n,selectors:[["app-catalogo"]],decls:5,vars:1,consts:[[1,"container","my-5"],[1,"text-center","mb-4"],[1,"row","g-4"],["class","col-12 col-md-6 col-lg-3",4,"ngFor","ngForOf"],[1,"col-12","col-md-6","col-lg-3"],["role","button","tabindex","0",1,"card","h-100","text-center","shadow-sm","card-clickable",3,"click","keydown.enter"],[1,"card-body","d-flex","flex-column","justify-content-between","align-items-center"],[1,"game-pic","mb-3",3,"src","alt"],[1,"card-title"]],template:function(e,a){e&1&&(i(0,"div",0)(1,"h2",1),r(2,"Juegos"),t(),i(3,"div",2),d(4,it,6,3,"div",3),t()()),e&2&&(l(4),s("ngForOf",a.juegos))},dependencies:[y,F],styles:[".card[_ngcontent-%COMP%]{border-radius:1rem;overflow:hidden;transition:transform .2s ease,box-shadow .2s ease}.card[_ngcontent-%COMP%]:hover{transform:scale(1.03);box-shadow:0 8px 16px #00000026}.game-pic[_ngcontent-%COMP%]{max-width:100%;max-height:150px;object-fit:contain}.card-body[_ngcontent-%COMP%]{padding:1rem}.card-clickable[_ngcontent-%COMP%]{cursor:pointer;border:1px solid #dee2e6}.card-title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;margin-top:auto;margin-bottom:0;text-align:center}"]})};var pe=class n{supabase;canalMensajes=null;constructor(){this.supabase=oe(U.supabaseUrl,U.supabaseAnonKey)}getMensajes(){return u(this,null,function*(){let{data:o,error:e}=yield this.supabase.from("chat").select("*").order("created_at",{ascending:!0});if(e)throw e;return o})}enviarMensaje(o,e){return u(this,null,function*(){let{error:a}=yield this.supabase.from("chat").insert([{usuario:o,mensaje:e}]);if(a)throw a})}suscribirseMensajes(o){this.canalMensajes&&this.supabase.removeChannel(this.canalMensajes),this.canalMensajes=this.supabase.channel("mensajes-channel").on("postgres_changes",{event:"INSERT",schema:"public",table:"chat"},e=>{let a=e.new;o(a)}).subscribe(e=>{e==="SUBSCRIBED"?console.log("Suscrito a los mensajes del chat"):console.warn("Error al suscribirse a los mensajes del chat:",e)})}desconectar(){this.canalMensajes&&this.supabase.removeChannel(this.canalMensajes)}static \u0275fac=function(e){return new(e||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})};var rt=["chatScroll"];function at(n,o){if(n&1&&(i(0,"div")(1,"span",10),r(2),t(),i(3,"span"),r(4),t(),i(5,"span",16),r(6),q(7,"date"),t(),C(8,"hr",17),t()),n&2){let e=o.$implicit;l(2),Ie("",e.usuario,":"),l(2),c(e.mensaje),l(2),c(B(7,3,e.created_at,"short"))}}function lt(n,o){n&1&&(i(0,"div",18),r(1,"No hay mensajes"),t())}function st(n,o){if(n&1&&(i(0,"div",19),r(1),t()),n&2){let e=_();l(),c(e.error)}}var ue=class n{constructor(o){this.chatService=o}mensajes=[];usuario="";mensaje="";error="";chatScroll;ngOnInit(){return u(this,null,function*(){this.usuario=localStorage.getItem("userEmail")||"",yield this.cargarMensajes(),this.chatService.suscribirseMensajes(o=>{this.mensajes.push(o),setTimeout(()=>this.scrollToBottom(),0)})})}ngOnDestroy(){this.chatService.desconectar()}cargarMensajes(){return u(this,null,function*(){try{this.mensajes=yield this.chatService.getMensajes(),setTimeout(()=>this.scrollToBottom(),0)}catch{this.error="Error al cargar mensajes"}})}enviar(){return u(this,null,function*(){if(!(!this.usuario.trim()||!this.mensaje.trim()))try{yield this.chatService.enviarMensaje(this.usuario,this.mensaje),this.mensaje=""}catch{this.error="Error al enviar mensaje"}})}scrollToBottom(){try{let o=this.chatScroll.nativeElement;o.scrollTop=o.scrollHeight}catch(o){console.error("No se pudo hacer scroll:",o)}}static \u0275fac=function(e){return new(e||n)(h(pe))};static \u0275cmp=b({type:n,selectors:[["app-chat"]],viewQuery:function(e,a){if(e&1&&je(rt,5),e&2){let m;we(m=Fe())&&(a.chatScroll=m.first)}},decls:19,vars:5,consts:[["chatScroll",""],[1,"container","mt-4",2,"max-width","600px"],[1,"card","shadow"],[1,"card-header","bg-dark","text-white"],[1,"card-body",2,"height","300px","overflow-y","auto"],[4,"ngFor","ngForOf"],["class","text-center text-muted",4,"ngIf"],[1,"card-footer"],[1,"row","g-2","align-items-center",3,"ngSubmit"],[1,"col-4","d-flex","align-items-center"],[1,"fw-bold"],[1,"col-6"],["type","text","placeholder","Mensaje","name","mensaje","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-2"],["type","submit",1,"btn","btn-dark","w-100"],["class","text-danger mt-2",4,"ngIf"],[1,"text-muted","small","float-end"],[1,"my-2"],[1,"text-center","text-muted"],[1,"text-danger","mt-2"]],template:function(e,a){if(e&1){let m=w();i(0,"div",1)(1,"div",2)(2,"div",3),r(3," Chat "),t(),i(4,"div",4,0),d(6,at,9,6,"div",5)(7,lt,2,0,"div",6),t(),i(8,"div",7)(9,"form",8),S("ngSubmit",function(){return g(m),v(a.enviar())}),i(10,"div",9)(11,"span",10),r(12),t()(),i(13,"div",11)(14,"input",12),A("ngModelChange",function(p){return g(m),T(a.mensaje,p)||(a.mensaje=p),v(p)}),t()(),i(15,"div",13)(16,"button",14),r(17,"Enviar"),t()()(),d(18,st,2,1,"div",15),t()()()}e&2&&(l(6),s("ngForOf",a.mensajes),l(),s("ngIf",a.mensajes.length===0),l(5),c(a.usuario),l(2),N("ngModel",a.mensaje),l(4),s("ngIf",a.error))},dependencies:[y,F,E,H,J,V,k,D,P,Q,G,W],encapsulation:2})};function mt(n,o){if(n&1&&(i(0,"div",12),r(1),t()),n&2){let e=_();l(),c(e.error)}}var de=class n{constructor(o,e){this.authService=o;this.router=e}email="";password="";error="";onSubmit(){return u(this,null,function*(){try{yield this.authService.register(this.email,this.password),this.router.navigate(["/home"])}catch(o){this.error=o.message||"Error al registrar usuario"}})}static \u0275fac=function(e){return new(e||n)(h(R),h(I))};static \u0275cmp=b({type:n,selectors:[["app-registro"]],decls:17,vars:4,consts:[["registerForm","ngForm"],[1,"container","mt-5","d-flex","justify-content-center"],[1,"card","p-4","shadow",2,"width","100%","max-width","400px"],[1,"text-center","mb-4"],[3,"ngSubmit"],[1,"mb-3"],["for","email",1,"form-label"],["type","email","id","email","name","email","required","","placeholder","ejemplo@correo.com",1,"form-control",3,"ngModelChange","ngModel"],["for","password",1,"form-label"],["type","password","id","password","name","password","required","","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-dark","w-100",3,"disabled"],["class","text-danger mt-2 text-center",4,"ngIf"],[1,"text-danger","mt-2","text-center"]],template:function(e,a){if(e&1){let m=w();i(0,"div",1)(1,"div",2)(2,"h4",3),r(3,"Registro"),t(),i(4,"form",4,0),S("ngSubmit",function(){return g(m),v(a.onSubmit())}),i(6,"div",5)(7,"label",6),r(8,"Correo electr\xF3nico"),t(),i(9,"input",7),A("ngModelChange",function(p){return g(m),T(a.email,p)||(a.email=p),v(p)}),t()(),i(10,"div",5)(11,"label",8),r(12,"Contrase\xF1a"),t(),i(13,"input",9),A("ngModelChange",function(p){return g(m),T(a.password,p)||(a.password=p),v(p)}),t()(),i(14,"button",10),r(15," Registrarse "),t()(),d(16,mt,2,1,"div",11),t()()}if(e&2){let m=ee(5);l(9),N("ngModel",a.email),l(4),N("ngModel",a.password),l(),s("disabled",!m.valid),l(2),s("ngIf",a.error)}},dependencies:[y,E,J,V,k,D,P,Q,G,W],encapsulation:2})};var z=class n{supabase;constructor(){this.supabase=oe(U.supabaseUrl,U.supabaseAnonKey)}obtenerEncuestas(){return u(this,null,function*(){let{data:o,error:e}=yield this.supabase.from("encuestas").select("*").order("fecha_creacion",{ascending:!1});if(e)throw console.error("Error al obtener encuestas:",e),e;return o})}insertEncuesta(o){return u(this,null,function*(){let{data:e,error:a}=yield this.supabase.from("encuestas").insert([o]);if(a)throw a;return e})}static \u0275fac=function(e){return new(e||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})};var ye=n=>({"is-invalid":n});function ct(n,o){n&1&&(i(0,"div",22),r(1," Nombre y apellido son obligatorios y solo pueden contener letras y espacios. "),t())}function pt(n,o){n&1&&(i(0,"div",22),r(1," La edad debe estar entre 18 y 99 a\xF1os. "),t())}function ut(n,o){n&1&&(i(0,"div",22),r(1," El tel\xE9fono debe contener solo n\xFAmeros y no m\xE1s de 10 caracteres. "),t())}function dt(n,o){if(n&1&&(i(0,"div")(1,"div",23),C(2,"input",24),i(3,"label",25),r(4),t()()()),n&2){let e=o.$implicit;l(2),s("value",e)("id",e),l(),s("for",e),l(),c(e)}}function ft(n,o){n&1&&(i(0,"div",26),r(1," Seleccion\xE1 un juego. "),t())}function gt(n,o){n&1&&(i(0,"div",26),r(1," Deb\xE9s confirmar antes de enviar. "),t())}var fe=class n{constructor(o,e){this.fb=o;this.encuestaService=e}encuestaForm;juegos=["Ahorcado","Mayor Menor","Preguntados","Anagrama"];ngOnInit(){this.encuestaForm=this.fb.group({nombreApellido:["",[x.required,x.pattern(/^[a-zA-Z\s]+$/)]],edad:["",[x.required,x.min(18),x.max(99)]],telefono:["",[x.required,x.pattern(/^\d+$/),x.maxLength(10)]],juegoFavorito:["",x.required],juegoFaltante:["",[x.maxLength(100)]],sugerencias:["",[x.maxLength(200)]],confirmacion:[!1,x.requiredTrue]})}onSubmit(){return u(this,null,function*(){if(this.encuestaForm.valid){let o={nombre_apellido:this.encuestaForm.value.nombreApellido,edad:this.encuestaForm.value.edad,telefono:this.encuestaForm.value.telefono,juego_favorito:this.encuestaForm.value.juegoFavorito,juego_faltante:this.encuestaForm.value.juegoFaltante,sugerencias:this.encuestaForm.value.sugerencias};try{yield this.encuestaService.insertEncuesta(o),alert("Encuesta enviada con \xE9xito"),this.encuestaForm.reset()}catch(e){console.error(" Error al enviar la encuesta:",e),alert("Error al enviar la encuesta")}}else this.encuestaForm.markAllAsTouched(),console.error("Formulario inv\xE1lido")})}static \u0275fac=function(e){return new(e||n)(h(We),h(z))};static \u0275cmp=b({type:n,selectors:[["app-encuesta"]],decls:39,vars:17,consts:[[1,"container","mt-5"],[1,"text-center","mb-4"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","nombreApellido",1,"form-label"],["id","nombreApellido","type","text","formControlName","nombreApellido",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","edad",1,"form-label"],["id","edad","type","number","formControlName","edad",1,"form-control",3,"ngClass"],["for","telefono",1,"form-label"],["id","telefono","type","text","formControlName","telefono",1,"form-control",3,"ngClass"],["for","juegoFaltante",1,"form-label"],["id","juegoFaltante","type","text","formControlName","juegoFaltante",1,"form-control"],[1,"form-label"],[4,"ngFor","ngForOf"],["class","text-danger",4,"ngIf"],["for","sugerencias",1,"form-label"],["id","sugerencias","formControlName","sugerencias","rows","3",1,"form-control"],[1,"mb-3","form-check"],["type","checkbox","id","confirmacion","formControlName","confirmacion",1,"form-check-input"],["for","confirmacion",1,"form-check-label"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"invalid-feedback"],[1,"form-check"],["type","radio","formControlName","juegoFavorito",1,"form-check-input",3,"value","id"],[1,"form-check-label",3,"for"],[1,"text-danger"]],template:function(e,a){if(e&1&&(i(0,"div",0)(1,"h2",1),r(2,"Encuesta"),t(),i(3,"form",2),S("ngSubmit",function(){return a.onSubmit()}),i(4,"div",3)(5,"label",4),r(6,"Nombre y Apellido"),t(),C(7,"input",5),d(8,ct,2,0,"div",6),t(),i(9,"div",3)(10,"label",7),r(11,"Edad"),t(),C(12,"input",8),d(13,pt,2,0,"div",6),t(),i(14,"div",3)(15,"label",9),r(16,"Tel\xE9fono"),t(),C(17,"input",10),d(18,ut,2,0,"div",6),t(),i(19,"div",3)(20,"label",11),r(21,"\xBFQu\xE9 juego pens\xE1s que falta?"),t(),C(22,"input",12),t(),i(23,"div",3)(24,"label",13),r(25,"\xBFQu\xE9 juego te gust\xF3 m\xE1s?"),t(),d(26,dt,5,4,"div",14)(27,ft,2,0,"div",15),t(),i(28,"div",3)(29,"label",16),r(30,"Sugerencias generales"),t(),C(31,"textarea",17),t(),i(32,"div",18),C(33,"input",19),i(34,"label",20),r(35," Confirmo que complet\xE9 y le\xED todo correctamente. "),t(),d(36,gt,2,0,"div",15),t(),i(37,"button",21),r(38,"Enviar"),t()()()),e&2){let m,f,p,K,Z,X,Y,$;l(3),s("formGroup",a.encuestaForm),l(4),s("ngClass",te(11,ye,((m=a.encuestaForm.get("nombreApellido"))==null?null:m.invalid)&&((m=a.encuestaForm.get("nombreApellido"))==null?null:m.touched))),l(),s("ngIf",((f=a.encuestaForm.get("nombreApellido"))==null?null:f.invalid)&&((f=a.encuestaForm.get("nombreApellido"))==null?null:f.touched)),l(4),s("ngClass",te(13,ye,((p=a.encuestaForm.get("edad"))==null?null:p.invalid)&&((p=a.encuestaForm.get("edad"))==null?null:p.touched))),l(),s("ngIf",((K=a.encuestaForm.get("edad"))==null?null:K.invalid)&&((K=a.encuestaForm.get("edad"))==null?null:K.touched)),l(4),s("ngClass",te(15,ye,((Z=a.encuestaForm.get("telefono"))==null?null:Z.invalid)&&((Z=a.encuestaForm.get("telefono"))==null?null:Z.touched))),l(),s("ngIf",((X=a.encuestaForm.get("telefono"))==null?null:X.invalid)&&((X=a.encuestaForm.get("telefono"))==null?null:X.touched)),l(8),s("ngForOf",a.juegos),l(),s("ngIf",((Y=a.encuestaForm.get("juegoFavorito"))==null?null:Y.invalid)&&((Y=a.encuestaForm.get("juegoFavorito"))==null?null:Y.touched)),l(9),s("ngIf",(($=a.encuestaForm.get("confirmacion"))==null?null:$.invalid)&&(($=a.encuestaForm.get("confirmacion"))==null?null:$.touched)),l(),s("disabled",a.encuestaForm.invalid)}},dependencies:[Ge,V,k,Le,Oe,qe,D,P,Be,He,y,Ne,F,E],encapsulation:2})};function vt(n,o){n&1&&(i(0,"div",6),r(1,"Cargando encuestas..."),t())}function ht(n,o){if(n&1&&(i(0,"div",7),r(1),t()),n&2){let e=_();l(),c(e.error)}}function bt(n,o){if(n&1&&(i(0,"tr")(1,"td"),r(2),t(),i(3,"td"),r(4),t(),i(5,"td"),r(6),t(),i(7,"td"),r(8),t(),i(9,"td"),r(10),t(),i(11,"td"),r(12),t(),i(13,"td"),r(14),q(15,"date"),t()()),n&2){let e=o.$implicit;l(2),c(e.nombre_apellido),l(2),c(e.edad),l(2),c(e.telefono),l(2),c(e.juego_favorito),l(2),c(e.juego_faltante||"\u2014"),l(2),c(e.sugerencias||"\u2014"),l(2),c(B(15,7,e.fecha_creacion,"short"))}}function Ct(n,o){if(n&1&&(i(0,"table",8)(1,"thead",9)(2,"tr")(3,"th"),r(4,"Nombre y Apellido"),t(),i(5,"th"),r(6,"Edad"),t(),i(7,"th"),r(8,"Tel\xE9fono"),t(),i(9,"th"),r(10,"Juego Favorito"),t(),i(11,"th"),r(12,"Juego Faltante"),t(),i(13,"th"),r(14,"Sugerencias"),t(),i(15,"th"),r(16,"Fecha"),t()()(),i(17,"tbody"),d(18,bt,16,10,"tr",10),t()()),n&2){let e=_();l(18),s("ngForOf",e.encuestas)}}function _t(n,o){n&1&&(i(0,"div",11),r(1," No hay encuestas registradas por el momento. "),t())}var ge=class n{constructor(o){this.encuestasService=o}encuestas=[];cargando=!0;error=null;ngOnInit(){return u(this,null,function*(){try{this.encuestas=yield this.encuestasService.obtenerEncuestas()}catch{this.error="No se pudieron cargar las encuestas."}finally{this.cargando=!1}})}static \u0275fac=function(e){return new(e||n)(h(z))};static \u0275cmp=b({type:n,selectors:[["app-encuestas"]],decls:7,vars:4,consts:[[1,"container","mt-5"],[1,"mb-4","text-center"],["class","alert alert-info",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],["class","table table-bordered table-hover",4,"ngIf"],["class","alert alert-warning",4,"ngIf"],[1,"alert","alert-info"],[1,"alert","alert-danger"],[1,"table","table-bordered","table-hover"],[1,"table-dark"],[4,"ngFor","ngForOf"],[1,"alert","alert-warning"]],template:function(e,a){e&1&&(i(0,"div",0)(1,"h2",1),r(2,"Encuestas Recibidas"),t(),d(3,vt,2,0,"div",2)(4,ht,2,1,"div",3)(5,Ct,19,1,"table",4)(6,_t,2,0,"div",5),t()),e&2&&(l(3),s("ngIf",a.cargando),l(),s("ngIf",a.error),l(),s("ngIf",!a.cargando&&a.encuestas.length>0),l(),s("ngIf",!a.cargando&&a.encuestas.length===0))},dependencies:[y,F,E,H],encapsulation:2})};function St(n,o){n&1&&(i(0,"div",5),r(1,"Cargando puntajes..."),t())}function yt(n,o){if(n&1&&(i(0,"div",6),r(1),t()),n&2){let e=_();l(),c(e.error)}}function Et(n,o){if(n&1&&(i(0,"tr")(1,"td"),r(2),t(),i(3,"td"),r(4),t(),i(5,"td"),r(6),t(),i(7,"td"),r(8),q(9,"date"),t()()),n&2){let e=o.$implicit;l(2),c(e.usuario),l(2),c(e.juego),l(2),c(e.puntaje),l(2),c(B(9,4,e.created_at,"short"))}}function xt(n,o){if(n&1&&(i(0,"table",7)(1,"thead")(2,"tr")(3,"th"),r(4,"Jugador"),t(),i(5,"th"),r(6,"Juego"),t(),i(7,"th"),r(8,"Puntaje"),t(),i(9,"th"),r(10,"Fecha"),t()()(),i(11,"tbody"),d(12,Et,10,7,"tr",8),t()()),n&2){let e=_();l(12),s("ngForOf",e.puntajes)}}function jt(n,o){n&1&&(i(0,"div",5),r(1," No hay puntajes cargados a\xFAn. "),t())}var ve=class n{constructor(o){this.puntajesService=o}puntajes=[];cargando=!0;error=null;ngOnInit(){return u(this,null,function*(){try{this.puntajes=yield this.puntajesService.obtenerTodosLosPuntajes()}catch{this.error="No se pudieron cargar los puntajes."}finally{this.cargando=!1}})}static \u0275fac=function(e){return new(e||n)(h(Qe))};static \u0275cmp=b({type:n,selectors:[["app-puntaje"]],decls:7,vars:4,consts:[[1,"container","my-5"],[1,"text-center","mb-4"],["class","text-center",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],["class","table table-striped",4,"ngIf"],[1,"text-center"],[1,"alert","alert-danger"],[1,"table","table-striped"],[4,"ngFor","ngForOf"]],template:function(e,a){e&1&&(i(0,"div",0)(1,"h2",1),r(2,"Puntajes Generales"),t(),d(3,St,2,0,"div",2)(4,yt,2,1,"div",3)(5,xt,13,1,"table",4)(6,jt,2,0,"div",2),t()),e&2&&(l(3),s("ngIf",a.cargando),l(),s("ngIf",a.error),l(),s("ngIf",!a.cargando&&a.puntajes.length),l(),s("ngIf",!a.cargando&&!a.puntajes.length))},dependencies:[y,F,E,H],encapsulation:2})};var he=class n{constructor(o,e){this.authService=o;this.router=e}canActivate(){return u(this,null,function*(){let o=this.authService.getUserEmail();if(!o)return this.router.navigate(["/home"]),!1;try{return(yield this.authService.getUsuarioPorEmail(o)).perfil==="administrador"?!0:(this.router.navigate(["/home"]),!1)}catch(e){return console.error("Error al verificar perfil:",e),this.router.navigate(["/home"]),!1}})}static \u0275fac=function(e){return new(e||n)(Ce(R),Ce(I))};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})};var Ue=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:se,children:[{path:"",component:ce},{path:"quien-soy",component:me},{path:"login",component:ae},{path:"registro",component:de},{path:"juegos",loadChildren:()=>import("./chunk-RCGNKDBG.js").then(n=>n.JuegosModule)},{path:"chat",component:ue,canActivate:[re]},{path:"encuesta",component:fe,canActivate:[re]},{path:"encuestas",component:ge,canActivate:[he]},{path:"puntaje",component:ve,canActivate:[re]}]},{path:"**",redirectTo:"home"}];var ze={providers:[Me({eventCoalescing:!0}),Ee(Ae,ie),Re(Ue),Pe(De()),ke()]};var be=class n{title="salaDeJuegos";static \u0275fac=function(e){return new(e||n)};static \u0275cmp=b({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(e,a){e&1&&C(0,"router-outlet")},dependencies:[ne],encapsulation:2})};Te(be,ze).catch(n=>console.error(n));
