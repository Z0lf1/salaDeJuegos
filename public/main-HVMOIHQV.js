import{$ as D,B as te,D as q,E as B,F as we,G as Fe,H as w,I as E,J as H,K as y,L as Ie,M as Me,O as Ne,Q as Te,R as Ae,S as ne,T as F,U as ke,V as Pe,W as ie,X as De,Y as k,Z as x,_ as P,a as L,aa as W,ba as G,c as Ce,ca as R,d as Ee,da as Re,e as C,ea as Ve,f as _,fa as Oe,g as xe,ga as Le,h as l,ha as J,i as g,ia as qe,j as v,ja as Q,ka as Be,l as u,la as oe,m,ma as U,n as i,na as V,o as t,oa as re,p as h,pa as He,q as M,r as S,s as b,t as ee,u as o,v as s,w as je,x as N,y as T,z as A}from"./chunk-2IIVPS3W.js";import{g as p}from"./chunk-6AOLKZEJ.js";function Qe(n,r){if(n&1&&(i(0,"div",16),o(1),t()),n&2){let e=b();l(),s(e.error)}}var ae=class n{constructor(r,e){this.router=r;this.authService=e}email="";password="";error=null;autofill(r,e){this.email=r,this.password=e}onSubmit(){return p(this,null,function*(){try{yield this.authService.login(this.email,this.password),this.router.navigate(["/home"])}catch(r){this.error=r.message||"Error al iniciar sesi\xF3n"}})}static \u0275fac=function(e){return new(e||n)(g(F),g(V))};static \u0275cmp=v({type:n,selectors:[["app-login"]],decls:30,vars:4,consts:[["loginForm","ngForm"],[1,"container","mt-5","d-flex","justify-content-center"],[1,"card","p-4","shadow",2,"width","100%","max-width","400px"],[1,"text-center","mb-4"],[1,"mb-3","d-flex","flex-wrap","gap-2","justify-content-center"],["type","button",1,"btn","btn-outline-secondary","btn-sm",3,"click"],[3,"ngSubmit"],[1,"mb-3"],["for","email",1,"form-label"],["type","email","id","email","name","email","required","","placeholder","ejemplo@correo.com",1,"form-control",3,"ngModelChange","ngModel"],["for","password",1,"form-label"],["type","password","id","password","name","password","required","","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-dark","w-100",3,"disabled"],["class","text-danger mt-2 text-center",4,"ngIf"],[1,"mt-3","text-center"],["href","/home/registro","routerLink","/home/registro"],[1,"text-danger","mt-2","text-center"]],template:function(e,a){if(e&1){let c=M();i(0,"div",1)(1,"div",2)(2,"h4",3),o(3,"Iniciar sesi\xF3n"),t(),i(4,"div",4)(5,"button",5),S("click",function(){return C(c),_(a.autofill("jugador1@test.com","123456"))}),o(6,"User 1"),t(),i(7,"button",5),S("click",function(){return C(c),_(a.autofill("pepito@test.com","pepito23"))}),o(8,"User 2"),t(),i(9,"button",5),S("click",function(){return C(c),_(a.autofill("pedritorico@hoho.com","123456"))}),o(10,"User 3"),t(),i(11,"button",5),S("click",function(){return C(c),_(a.autofill("admin1@admin.com","123456"))}),o(12,"Admin"),t()(),i(13,"form",6,0),S("ngSubmit",function(){return C(c),_(a.onSubmit())}),i(15,"div",7)(16,"label",8),o(17,"Correo electr\xF3nico"),t(),i(18,"input",9),A("ngModelChange",function(f){return C(c),T(a.email,f)||(a.email=f),_(f)}),t()(),i(19,"div",7)(20,"label",10),o(21,"Contrase\xF1a"),t(),i(22,"input",11),A("ngModelChange",function(f){return C(c),T(a.password,f)||(a.password=f),_(f)}),t()(),i(23,"button",12),o(24," Ingresar "),t()(),u(25,Qe,2,1,"div",13),i(26,"p",14),o(27," \xBFNo tienes cuenta? "),i(28,"a",15),o(29,"Reg\xEDstrate aqu\xED"),t()()()()}if(e&2){let c=ee(14);l(18),N("ngModel",a.email),l(4),N("ngModel",a.password),l(),m("disabled",!c.valid),l(2),m("ngIf",a.error)}},dependencies:[Q,R,k,P,D,J,G,W,y,E],encapsulation:2})};function Ue(n,r){n&1&&(i(0,"li",7)(1,"a",13),o(2,"Encuesta"),t()())}function ze(n,r){n&1&&(i(0,"li",7)(1,"a",14),o(2,"Puntajes"),t()())}function Ke(n,r){n&1&&(i(0,"li",7)(1,"a",15),o(2,"Login"),t()())}function Ze(n,r){if(n&1&&(i(0,"li",7)(1,"span",16),o(2),t()()),n&2){let e=b();l(2),s(e.userEmail)}}function Xe(n,r){n&1&&(i(0,"li",7)(1,"a",17),o(2,"Encuestas"),t()())}function Ye(n,r){if(n&1){let e=M();i(0,"li",7)(1,"button",18),S("click",function(){C(e);let c=b();return _(c.logout())}),o(2,"Logout"),t()()}}function $e(n,r){n&1&&(i(0,"li",7)(1,"a",19),o(2,"Chat"),t()())}var me=class n{constructor(r,e){this.authService=r;this.router=e}userEmail=null;esAdmin=!1;sub;ngOnInit(){this.sub=this.authService.userEmail$.subscribe(r=>p(this,null,function*(){this.userEmail=r,r?this.esAdmin=yield this.authService.isAdmin():this.esAdmin=!1,console.log("Email del usuario:",this.userEmail)}))}logout(){this.authService.logout(),this.router.navigate(["/home"])}ngOnDestroy(){this.sub?.unsubscribe()}static \u0275fac=function(e){return new(e||n)(g(V),g(F))};static \u0275cmp=v({type:n,selectors:[["app-home"]],decls:26,vars:7,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-light"],[1,"container-fluid"],["routerLink","/home",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav"],[1,"nav-item"],["routerLink","/home",1,"nav-link"],["routerLink","/juegos",1,"nav-link"],["class","nav-item",4,"ngIf"],["routerLink","/home/quien-soy",1,"nav-link"],[1,"container","mt-4"],["routerLink","/home/encuesta",1,"nav-link"],["routerLink","/home/puntaje",1,"nav-link"],["routerLink","/home/login",1,"nav-link"],[1,"nav-link","disabled"],["routerLink","/home/encuestas",1,"nav-link"],[1,"btn","btn-link","nav-link",3,"click"],["routerLink","/home/chat",1,"nav-link"]],template:function(e,a){e&1&&(i(0,"nav",0)(1,"div",1)(2,"a",2),o(3,"Sala de Juegos"),t(),i(4,"button",3),h(5,"span",4),t(),i(6,"div",5)(7,"ul",6)(8,"li",7)(9,"a",8),o(10,"Home"),t()(),i(11,"li",7)(12,"a",9),o(13,"Juegos"),t()(),u(14,Ue,3,0,"li",10)(15,ze,3,0,"li",10)(16,Ke,3,0,"li",10)(17,Ze,3,1,"li",10)(18,Xe,3,0,"li",10)(19,Ye,3,0,"li",10),i(20,"li",7)(21,"a",11),o(22,"\xBFQui\xE9n soy?"),t()(),u(23,$e,3,0,"li",10),t()()()(),i(24,"div",12),h(25,"router-outlet"),t()),e&2&&(l(14),m("ngIf",a.userEmail),l(),m("ngIf",a.userEmail),l(),m("ngIf",!a.userEmail),l(),m("ngIf",a.userEmail),l(),m("ngIf",a.esAdmin),l(),m("ngIf",a.userEmail),l(4),m("ngIf",a.userEmail))},dependencies:[ie,ne,ke,y,E],encapsulation:2})};var se=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=v({type:n,selectors:[["app-quien-soy"]],decls:22,vars:0,consts:[[1,"container","mt-4"],[1,"card","p-4","shadow"],[1,"mb-3"],[1,"mb-3","text-center"],["src","assets/mi-foto.jpg","alt","Mi Foto","width","200",1,"img-thumbnail"]],template:function(e,a){e&1&&(i(0,"div",0)(1,"div",1)(2,"h3",2),o(3,"\xBFQui\xE9n soy?"),t(),i(4,"div",3),h(5,"img",4),t(),i(6,"p")(7,"strong"),o(8,"Nombre:"),t(),o(9," Alan Magari\xF1os"),t(),i(10,"p")(11,"strong"),o(12,"Edad:"),t(),o(13," 35 a\xF1os"),t(),i(14,"p")(15,"strong"),o(16,"Carrera:"),t(),o(17," Tecnicatura universitaria en programaci\xF3n"),t(),i(18,"p")(19,"strong"),o(20,"Sobre mi juego:"),t(),o(21," Es un juego de anagramas en el cual aparecen letras desordenadas y el jugador debe elegir la palabra correcta entre varias opciones. El objetivo es adivinar la palabra original a partir del anagrama presentado. "),t()()())},encapsulation:2})};function et(n,r){if(n&1){let e=M();i(0,"div",4)(1,"div",5),S("click",function(){let c=C(e).$implicit,d=b();return _(d.jugar(c.ruta))})("keydown.enter",function(){let c=C(e).$implicit,d=b();return _(d.jugar(c.ruta))}),i(2,"div",6),h(3,"img",7),i(4,"h5",8),o(5),t()()()()}if(n&2){let e=r.$implicit;l(3),m("src",e.imagen,xe)("alt",e.nombre),l(2),s(e.nombre)}}var ce=class n{constructor(r){this.router=r}juegos=[{nombre:"Ahorcado",ruta:"/home/juegos/ahorcado",imagen:"assets/ahorcado.png"},{nombre:"Mayor o Menor",ruta:"/home/juegos/mayor-menor",imagen:"assets/mayor-menor.png"},{nombre:"Preguntados",ruta:"/home/juegos/preguntados",imagen:"assets/preguntados.png"},{nombre:"Anagrama",ruta:"/home/juegos/anagrama",imagen:"assets/anagrama.png"}];jugar(r){this.router.navigate([r])}static \u0275fac=function(e){return new(e||n)(g(F))};static \u0275cmp=v({type:n,selectors:[["app-catalogo"]],decls:5,vars:1,consts:[[1,"container","my-5"],[1,"text-center","mb-4"],[1,"row","g-4"],["class","col-12 col-md-6 col-lg-3",4,"ngFor","ngForOf"],[1,"col-12","col-md-6","col-lg-3"],["role","button","tabindex","0",1,"card","h-100","text-center","shadow-sm","card-clickable",3,"click","keydown.enter"],[1,"card-body","d-flex","flex-column","justify-content-between","align-items-center"],[1,"game-pic","mb-3",3,"src","alt"],[1,"card-title"]],template:function(e,a){e&1&&(i(0,"div",0)(1,"h2",1),o(2,"Juegos"),t(),i(3,"div",2),u(4,et,6,3,"div",3),t()()),e&2&&(l(4),m("ngForOf",a.juegos))},dependencies:[y,w],styles:[".card[_ngcontent-%COMP%]{border-radius:1rem;overflow:hidden;transition:transform .2s ease,box-shadow .2s ease}.card[_ngcontent-%COMP%]:hover{transform:scale(1.03);box-shadow:0 8px 16px #00000026}.game-pic[_ngcontent-%COMP%]{max-width:100%;max-height:150px;object-fit:contain}.card-body[_ngcontent-%COMP%]{padding:1rem}.card-clickable[_ngcontent-%COMP%]{cursor:pointer;border:1px solid #dee2e6}.card-title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;margin-top:auto;margin-bottom:0;text-align:center}"]})};var pe=class n{supabase;canalMensajes=null;constructor(){this.supabase=oe(U.supabaseUrl,U.supabaseAnonKey)}getMensajes(){return p(this,null,function*(){let{data:r,error:e}=yield this.supabase.from("chat").select("*").order("created_at",{ascending:!0});if(e)throw e;return r})}enviarMensaje(r,e){return p(this,null,function*(){let{error:a}=yield this.supabase.from("chat").insert([{usuario:r,mensaje:e}]);if(a)throw a})}suscribirseMensajes(r){this.canalMensajes=this.supabase.channel("mensajes-channel").on("postgres_changes",{event:"INSERT",schema:"public",table:"chat"},e=>{r(e.new)}).subscribe()}desconectar(){this.canalMensajes&&this.supabase.removeChannel(this.canalMensajes)}static \u0275fac=function(e){return new(e||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})};function nt(n,r){if(n&1&&(i(0,"div")(1,"span",9),o(2),t(),i(3,"span"),o(4),t(),i(5,"span",15),o(6),q(7,"date"),t(),h(8,"hr",16),t()),n&2){let e=r.$implicit;l(2),je("",e.usuario,":"),l(2),s(e.mensaje),l(2),s(B(7,3,e.created_at,"short"))}}function it(n,r){n&1&&(i(0,"div",17),o(1,"No hay mensajes"),t())}function ot(n,r){if(n&1&&(i(0,"div",18),o(1),t()),n&2){let e=b();l(),s(e.error)}}var ue=class n{constructor(r){this.chatService=r}mensajes=[];usuario="";mensaje="";error="";ngOnInit(){return p(this,null,function*(){this.usuario=localStorage.getItem("userEmail")||"",yield this.cargarMensajes(),this.chatService.suscribirseMensajes(r=>{this.mensajes.push(r)})})}ngOnDestroy(){this.chatService.desconectar()}cargarMensajes(){return p(this,null,function*(){try{this.mensajes=yield this.chatService.getMensajes()}catch{this.error="Error al cargar mensajes"}})}enviar(){return p(this,null,function*(){if(!(!this.usuario.trim()||!this.mensaje.trim()))try{yield this.chatService.enviarMensaje(this.usuario,this.mensaje),this.mensaje="",yield this.cargarMensajes()}catch{this.error="Error al enviar mensaje"}})}static \u0275fac=function(e){return new(e||n)(g(pe))};static \u0275cmp=v({type:n,selectors:[["app-chat"]],decls:18,vars:5,consts:[[1,"container","mt-4",2,"max-width","600px"],[1,"card","shadow"],[1,"card-header","bg-dark","text-white"],[1,"card-body",2,"height","300px","overflow-y","auto"],[4,"ngFor","ngForOf"],["class","text-center text-muted",4,"ngIf"],[1,"card-footer"],[1,"row","g-2","align-items-center",3,"ngSubmit"],[1,"col-4","d-flex","align-items-center"],[1,"fw-bold"],[1,"col-6"],["type","text","placeholder","Mensaje","name","mensaje","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-2"],["type","submit",1,"btn","btn-dark","w-100"],["class","text-danger mt-2",4,"ngIf"],[1,"text-muted","small","float-end"],[1,"my-2"],[1,"text-center","text-muted"],[1,"text-danger","mt-2"]],template:function(e,a){e&1&&(i(0,"div",0)(1,"div",1)(2,"div",2),o(3," Chat "),t(),i(4,"div",3),u(5,nt,9,6,"div",4)(6,it,2,0,"div",5),t(),i(7,"div",6)(8,"form",7),S("ngSubmit",function(){return a.enviar()}),i(9,"div",8)(10,"span",9),o(11),t()(),i(12,"div",10)(13,"input",11),A("ngModelChange",function(d){return T(a.mensaje,d)||(a.mensaje=d),d}),t()(),i(14,"div",12)(15,"button",13),o(16,"Enviar"),t()()(),u(17,ot,2,1,"div",14),t()()()),e&2&&(l(5),m("ngForOf",a.mensajes),l(),m("ngIf",a.mensajes.length===0),l(5),s(a.usuario),l(2),N("ngModel",a.mensaje),l(4),m("ngIf",a.error))},dependencies:[y,w,E,H,Q,R,k,P,D,J,G,W],encapsulation:2})};function rt(n,r){if(n&1&&(i(0,"div",12),o(1),t()),n&2){let e=b();l(),s(e.error)}}var de=class n{constructor(r,e){this.authService=r;this.router=e}email="";password="";error="";onSubmit(){return p(this,null,function*(){try{yield this.authService.register(this.email,this.password),this.router.navigate(["/home"])}catch(r){this.error=r.message||"Error al registrar usuario"}})}static \u0275fac=function(e){return new(e||n)(g(V),g(F))};static \u0275cmp=v({type:n,selectors:[["app-registro"]],decls:17,vars:4,consts:[["registerForm","ngForm"],[1,"container","mt-5","d-flex","justify-content-center"],[1,"card","p-4","shadow",2,"width","100%","max-width","400px"],[1,"text-center","mb-4"],[3,"ngSubmit"],[1,"mb-3"],["for","email",1,"form-label"],["type","email","id","email","name","email","required","","placeholder","ejemplo@correo.com",1,"form-control",3,"ngModelChange","ngModel"],["for","password",1,"form-label"],["type","password","id","password","name","password","required","","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-dark","w-100",3,"disabled"],["class","text-danger mt-2 text-center",4,"ngIf"],[1,"text-danger","mt-2","text-center"]],template:function(e,a){if(e&1){let c=M();i(0,"div",1)(1,"div",2)(2,"h4",3),o(3,"Registro"),t(),i(4,"form",4,0),S("ngSubmit",function(){return C(c),_(a.onSubmit())}),i(6,"div",5)(7,"label",6),o(8,"Correo electr\xF3nico"),t(),i(9,"input",7),A("ngModelChange",function(f){return C(c),T(a.email,f)||(a.email=f),_(f)}),t()(),i(10,"div",5)(11,"label",8),o(12,"Contrase\xF1a"),t(),i(13,"input",9),A("ngModelChange",function(f){return C(c),T(a.password,f)||(a.password=f),_(f)}),t()(),i(14,"button",10),o(15," Registrarse "),t()(),u(16,rt,2,1,"div",11),t()()}if(e&2){let c=ee(5);l(9),N("ngModel",a.email),l(4),N("ngModel",a.password),l(),m("disabled",!c.valid),l(2),m("ngIf",a.error)}},dependencies:[y,E,Q,R,k,P,D,J,G,W],encapsulation:2})};var z=class n{supabase;constructor(){this.supabase=oe(U.supabaseUrl,U.supabaseAnonKey)}obtenerEncuestas(){return p(this,null,function*(){let{data:r,error:e}=yield this.supabase.from("encuestas").select("*").order("fecha_creacion",{ascending:!1});if(e)throw console.error("Error al obtener encuestas:",e),e;return r})}insertEncuesta(r){return p(this,null,function*(){let{data:e,error:a}=yield this.supabase.from("encuestas").insert([r]);if(a)throw a;return e})}static \u0275fac=function(e){return new(e||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})};var ye=n=>({"is-invalid":n});function at(n,r){n&1&&(i(0,"div",22),o(1," Nombre y apellido son obligatorios y solo pueden contener letras y espacios. "),t())}function lt(n,r){n&1&&(i(0,"div",22),o(1," La edad debe estar entre 18 y 99 a\xF1os. "),t())}function mt(n,r){n&1&&(i(0,"div",22),o(1," El tel\xE9fono debe contener solo n\xFAmeros y no m\xE1s de 10 caracteres. "),t())}function st(n,r){if(n&1&&(i(0,"div")(1,"div",23),h(2,"input",24),i(3,"label",25),o(4),t()()()),n&2){let e=r.$implicit;l(2),m("value",e)("id",e),l(),m("for",e),l(),s(e)}}function ct(n,r){n&1&&(i(0,"div",26),o(1," Seleccion\xE1 un juego. "),t())}function pt(n,r){n&1&&(i(0,"div",26),o(1," Deb\xE9s confirmar antes de enviar. "),t())}var fe=class n{constructor(r,e){this.fb=r;this.encuestaService=e}encuestaForm;juegos=["Ahorcado","Mayor Menor","Preguntados","Anagrama"];ngOnInit(){this.encuestaForm=this.fb.group({nombreApellido:["",[x.required,x.pattern(/^[a-zA-Z\s]+$/)]],edad:["",[x.required,x.min(18),x.max(99)]],telefono:["",[x.required,x.pattern(/^\d+$/),x.maxLength(10)]],juegoFavorito:["",x.required],juegoFaltante:["",[x.maxLength(100)]],sugerencias:["",[x.maxLength(200)]],confirmacion:[!1,x.requiredTrue]})}onSubmit(){return p(this,null,function*(){if(this.encuestaForm.valid){let r={nombre_apellido:this.encuestaForm.value.nombreApellido,edad:this.encuestaForm.value.edad,telefono:this.encuestaForm.value.telefono,juego_favorito:this.encuestaForm.value.juegoFavorito,juego_faltante:this.encuestaForm.value.juegoFaltante,sugerencias:this.encuestaForm.value.sugerencias};try{yield this.encuestaService.insertEncuesta(r),alert("Encuesta enviada con \xE9xito"),this.encuestaForm.reset()}catch(e){console.error(" Error al enviar la encuesta:",e),alert("Error al enviar la encuesta")}}else this.encuestaForm.markAllAsTouched(),console.error("Formulario inv\xE1lido")})}static \u0275fac=function(e){return new(e||n)(g(qe),g(z))};static \u0275cmp=v({type:n,selectors:[["app-encuesta"]],decls:39,vars:17,consts:[[1,"container","mt-5"],[1,"text-center","mb-4"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","nombreApellido",1,"form-label"],["id","nombreApellido","type","text","formControlName","nombreApellido",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","edad",1,"form-label"],["id","edad","type","number","formControlName","edad",1,"form-control",3,"ngClass"],["for","telefono",1,"form-label"],["id","telefono","type","text","formControlName","telefono",1,"form-control",3,"ngClass"],["for","juegoFaltante",1,"form-label"],["id","juegoFaltante","type","text","formControlName","juegoFaltante",1,"form-control"],[1,"form-label"],[4,"ngFor","ngForOf"],["class","text-danger",4,"ngIf"],["for","sugerencias",1,"form-label"],["id","sugerencias","formControlName","sugerencias","rows","3",1,"form-control"],[1,"mb-3","form-check"],["type","checkbox","id","confirmacion","formControlName","confirmacion",1,"form-check-input"],["for","confirmacion",1,"form-check-label"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"invalid-feedback"],[1,"form-check"],["type","radio","formControlName","juegoFavorito",1,"form-check-input",3,"value","id"],[1,"form-check-label",3,"for"],[1,"text-danger"]],template:function(e,a){if(e&1&&(i(0,"div",0)(1,"h2",1),o(2,"Encuesta"),t(),i(3,"form",2),S("ngSubmit",function(){return a.onSubmit()}),i(4,"div",3)(5,"label",4),o(6,"Nombre y Apellido"),t(),h(7,"input",5),u(8,at,2,0,"div",6),t(),i(9,"div",3)(10,"label",7),o(11,"Edad"),t(),h(12,"input",8),u(13,lt,2,0,"div",6),t(),i(14,"div",3)(15,"label",9),o(16,"Tel\xE9fono"),t(),h(17,"input",10),u(18,mt,2,0,"div",6),t(),i(19,"div",3)(20,"label",11),o(21,"\xBFQu\xE9 juego pens\xE1s que falta?"),t(),h(22,"input",12),t(),i(23,"div",3)(24,"label",13),o(25,"\xBFQu\xE9 juego te gust\xF3 m\xE1s?"),t(),u(26,st,5,4,"div",14)(27,ct,2,0,"div",15),t(),i(28,"div",3)(29,"label",16),o(30,"Sugerencias generales"),t(),h(31,"textarea",17),t(),i(32,"div",18),h(33,"input",19),i(34,"label",20),o(35," Confirmo que complet\xE9 y le\xED todo correctamente. "),t(),u(36,pt,2,0,"div",15),t(),i(37,"button",21),o(38,"Enviar"),t()()()),e&2){let c,d,f,K,Z,X,Y,$;l(3),m("formGroup",a.encuestaForm),l(4),m("ngClass",te(11,ye,((c=a.encuestaForm.get("nombreApellido"))==null?null:c.invalid)&&((c=a.encuestaForm.get("nombreApellido"))==null?null:c.touched))),l(),m("ngIf",((d=a.encuestaForm.get("nombreApellido"))==null?null:d.invalid)&&((d=a.encuestaForm.get("nombreApellido"))==null?null:d.touched)),l(4),m("ngClass",te(13,ye,((f=a.encuestaForm.get("edad"))==null?null:f.invalid)&&((f=a.encuestaForm.get("edad"))==null?null:f.touched))),l(),m("ngIf",((K=a.encuestaForm.get("edad"))==null?null:K.invalid)&&((K=a.encuestaForm.get("edad"))==null?null:K.touched)),l(4),m("ngClass",te(15,ye,((Z=a.encuestaForm.get("telefono"))==null?null:Z.invalid)&&((Z=a.encuestaForm.get("telefono"))==null?null:Z.touched))),l(),m("ngIf",((X=a.encuestaForm.get("telefono"))==null?null:X.invalid)&&((X=a.encuestaForm.get("telefono"))==null?null:X.touched)),l(8),m("ngForOf",a.juegos),l(),m("ngIf",((Y=a.encuestaForm.get("juegoFavorito"))==null?null:Y.invalid)&&((Y=a.encuestaForm.get("juegoFavorito"))==null?null:Y.touched)),l(9),m("ngIf",(($=a.encuestaForm.get("confirmacion"))==null?null:$.invalid)&&(($=a.encuestaForm.get("confirmacion"))==null?null:$.touched)),l(),m("disabled",a.encuestaForm.invalid)}},dependencies:[Be,R,k,Re,De,Ve,P,D,Oe,Le,y,Fe,w,E],encapsulation:2})};function ut(n,r){n&1&&(i(0,"div",6),o(1,"Cargando encuestas..."),t())}function dt(n,r){if(n&1&&(i(0,"div",7),o(1),t()),n&2){let e=b();l(),s(e.error)}}function ft(n,r){if(n&1&&(i(0,"tr")(1,"td"),o(2),t(),i(3,"td"),o(4),t(),i(5,"td"),o(6),t(),i(7,"td"),o(8),t(),i(9,"td"),o(10),t(),i(11,"td"),o(12),t(),i(13,"td"),o(14),q(15,"date"),t()()),n&2){let e=r.$implicit;l(2),s(e.nombre_apellido),l(2),s(e.edad),l(2),s(e.telefono),l(2),s(e.juego_favorito),l(2),s(e.juego_faltante||"\u2014"),l(2),s(e.sugerencias||"\u2014"),l(2),s(B(15,7,e.fecha_creacion,"short"))}}function gt(n,r){if(n&1&&(i(0,"table",8)(1,"thead",9)(2,"tr")(3,"th"),o(4,"Nombre y Apellido"),t(),i(5,"th"),o(6,"Edad"),t(),i(7,"th"),o(8,"Tel\xE9fono"),t(),i(9,"th"),o(10,"Juego Favorito"),t(),i(11,"th"),o(12,"Juego Faltante"),t(),i(13,"th"),o(14,"Sugerencias"),t(),i(15,"th"),o(16,"Fecha"),t()()(),i(17,"tbody"),u(18,ft,16,10,"tr",10),t()()),n&2){let e=b();l(18),m("ngForOf",e.encuestas)}}function vt(n,r){n&1&&(i(0,"div",11),o(1," No hay encuestas registradas por el momento. "),t())}var ge=class n{constructor(r){this.encuestasService=r}encuestas=[];cargando=!0;error=null;ngOnInit(){return p(this,null,function*(){try{this.encuestas=yield this.encuestasService.obtenerEncuestas()}catch{this.error="No se pudieron cargar las encuestas."}finally{this.cargando=!1}})}static \u0275fac=function(e){return new(e||n)(g(z))};static \u0275cmp=v({type:n,selectors:[["app-encuestas"]],decls:7,vars:4,consts:[[1,"container","mt-5"],[1,"mb-4","text-center"],["class","alert alert-info",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],["class","table table-bordered table-hover",4,"ngIf"],["class","alert alert-warning",4,"ngIf"],[1,"alert","alert-info"],[1,"alert","alert-danger"],[1,"table","table-bordered","table-hover"],[1,"table-dark"],[4,"ngFor","ngForOf"],[1,"alert","alert-warning"]],template:function(e,a){e&1&&(i(0,"div",0)(1,"h2",1),o(2,"Encuestas Recibidas"),t(),u(3,ut,2,0,"div",2)(4,dt,2,1,"div",3)(5,gt,19,1,"table",4)(6,vt,2,0,"div",5),t()),e&2&&(l(3),m("ngIf",a.cargando),l(),m("ngIf",a.error),l(),m("ngIf",!a.cargando&&a.encuestas.length>0),l(),m("ngIf",!a.cargando&&a.encuestas.length===0))},dependencies:[y,w,E,H],encapsulation:2})};function ht(n,r){n&1&&(i(0,"div",5),o(1,"Cargando puntajes..."),t())}function bt(n,r){if(n&1&&(i(0,"div",6),o(1),t()),n&2){let e=b();l(),s(e.error)}}function Ct(n,r){if(n&1&&(i(0,"tr")(1,"td"),o(2),t(),i(3,"td"),o(4),t(),i(5,"td"),o(6),t(),i(7,"td"),o(8),q(9,"date"),t()()),n&2){let e=r.$implicit;l(2),s(e.usuario),l(2),s(e.juego),l(2),s(e.puntaje),l(2),s(B(9,4,e.created_at,"short"))}}function _t(n,r){if(n&1&&(i(0,"table",7)(1,"thead")(2,"tr")(3,"th"),o(4,"Jugador"),t(),i(5,"th"),o(6,"Juego"),t(),i(7,"th"),o(8,"Puntaje"),t(),i(9,"th"),o(10,"Fecha"),t()()(),i(11,"tbody"),u(12,Ct,10,7,"tr",8),t()()),n&2){let e=b();l(12),m("ngForOf",e.puntajes)}}function St(n,r){n&1&&(i(0,"div",5),o(1," No hay puntajes cargados a\xFAn. "),t())}var ve=class n{constructor(r){this.puntajesService=r}puntajes=[];cargando=!0;error=null;ngOnInit(){return p(this,null,function*(){try{this.puntajes=yield this.puntajesService.obtenerTodosLosPuntajes()}catch{this.error="No se pudieron cargar los puntajes."}finally{this.cargando=!1}})}static \u0275fac=function(e){return new(e||n)(g(He))};static \u0275cmp=v({type:n,selectors:[["app-puntaje"]],decls:7,vars:4,consts:[[1,"container","my-5"],[1,"text-center","mb-4"],["class","text-center",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],["class","table table-striped",4,"ngIf"],[1,"text-center"],[1,"alert","alert-danger"],[1,"table","table-striped"],[4,"ngFor","ngForOf"]],template:function(e,a){e&1&&(i(0,"div",0)(1,"h2",1),o(2,"Puntajes Generales"),t(),u(3,ht,2,0,"div",2)(4,bt,2,1,"div",3)(5,_t,13,1,"table",4)(6,St,2,0,"div",2),t()),e&2&&(l(3),m("ngIf",a.cargando),l(),m("ngIf",a.error),l(),m("ngIf",!a.cargando&&a.puntajes.length),l(),m("ngIf",!a.cargando&&!a.puntajes.length))},dependencies:[y,w,E,H],encapsulation:2})};var he=class n{constructor(r,e){this.authService=r;this.router=e}canActivate(){return p(this,null,function*(){let r=this.authService.getUserEmail();if(!r)return this.router.navigate(["/home"]),!1;try{return(yield this.authService.getUsuarioPorEmail(r)).perfil==="administrador"?!0:(this.router.navigate(["/home"]),!1)}catch(e){return console.error("Error al verificar perfil:",e),this.router.navigate(["/home"]),!1}})}static \u0275fac=function(e){return new(e||n)(Ce(V),Ce(F))};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})};var Ge=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:me,children:[{path:"",component:ce},{path:"quien-soy",component:se},{path:"login",component:ae},{path:"registro",component:de},{path:"juegos",loadChildren:()=>import("./chunk-5CAGMARM.js").then(n=>n.JuegosModule)},{path:"chat",component:ue,canActivate:[re]},{path:"encuesta",component:fe,canActivate:[re]},{path:"encuestas",component:ge,canActivate:[he]},{path:"puntaje",component:ve,canActivate:[re]}]},{path:"**",redirectTo:"home"}];var Je={providers:[we({eventCoalescing:!0}),Ee(Me,ie),Pe(Ge),Ae(Te()),Ne()]};var be=class n{title="salaDeJuegos";static \u0275fac=function(e){return new(e||n)};static \u0275cmp=v({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(e,a){e&1&&h(0,"router-outlet")},dependencies:[ne],encapsulation:2})};Ie(be,Je).catch(n=>console.error(n));
