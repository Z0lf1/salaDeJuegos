import{$ as T,A as N,C as Y,E as $,F as ee,G as we,H as Fe,I as A,J as x,K as te,L as E,M as je,N as Ie,P as Me,R as Ne,S as Ae,T as ne,U as F,V as ke,W as Te,X as ie,Y as Ve,Z as k,_ as S,a as L,aa as V,ba as P,c as he,ca as q,d as Ee,da as D,e as b,ea as De,f as C,fa as Re,ga as Oe,h as Se,ha as Le,i as l,ia as B,j as v,ja as Pe,k as h,ka as W,la as qe,m as d,ma as oe,n as m,na as H,o as n,oa as R,p as t,pa as be,q as g,r as j,s as _,t as y,u as X,v as o,w as c,x as xe,y as I,z as M}from"./chunk-CW7IV5LB.js";import{g as u}from"./chunk-6AOLKZEJ.js";function Ge(i,r){if(i&1&&(n(0,"div",16),o(1),t()),i&2){let e=y();l(),c(e.error)}}var re=class i{constructor(r,e){this.router=r;this.authService=e}email="";password="";error=null;autofill(r,e){this.email=r,this.password=e}onSubmit(){return u(this,null,function*(){try{yield this.authService.login(this.email,this.password),this.router.navigate(["/home"])}catch(r){this.error=r.message||"Error al iniciar sesi\xF3n"}})}static \u0275fac=function(e){return new(e||i)(v(F),v(R))};static \u0275cmp=h({type:i,selectors:[["app-login"]],decls:30,vars:4,consts:[["loginForm","ngForm"],[1,"container","mt-5","d-flex","justify-content-center"],[1,"card","p-4","shadow",2,"width","100%","max-width","400px"],[1,"text-center","mb-4"],[1,"mb-3","d-flex","flex-wrap","gap-2","justify-content-center"],["type","button",1,"btn","btn-outline-secondary","btn-sm",3,"click"],[3,"ngSubmit"],[1,"mb-3"],["for","email",1,"form-label"],["type","email","id","email","name","email","required","","placeholder","ejemplo@correo.com",1,"form-control",3,"ngModelChange","ngModel"],["for","password",1,"form-label"],["type","password","id","password","name","password","required","","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-dark","w-100",3,"disabled"],["class","text-danger mt-2 text-center",4,"ngIf"],[1,"mt-3","text-center"],["href","/home/registro","routerLink","/home/registro"],[1,"text-danger","mt-2","text-center"]],template:function(e,a){if(e&1){let s=j();n(0,"div",1)(1,"div",2)(2,"h4",3),o(3,"Iniciar sesi\xF3n"),t(),n(4,"div",4)(5,"button",5),_("click",function(){return b(s),C(a.autofill("jugador1@test.com","123456"))}),o(6,"User 1"),t(),n(7,"button",5),_("click",function(){return b(s),C(a.autofill("pepito@test.com","pepito23"))}),o(8,"User 2"),t(),n(9,"button",5),_("click",function(){return b(s),C(a.autofill("pedritorico@hoho.com","123456"))}),o(10,"User 3"),t(),n(11,"button",5),_("click",function(){return b(s),C(a.autofill("admin1@admin.com","123456"))}),o(12,"Admin"),t()(),n(13,"form",6,0),_("ngSubmit",function(){return b(s),C(a.onSubmit())}),n(15,"div",7)(16,"label",8),o(17,"Correo electr\xF3nico"),t(),n(18,"input",9),N("ngModelChange",function(f){return b(s),M(a.email,f)||(a.email=f),C(f)}),t()(),n(19,"div",7)(20,"label",10),o(21,"Contrase\xF1a"),t(),n(22,"input",11),N("ngModelChange",function(f){return b(s),M(a.password,f)||(a.password=f),C(f)}),t()(),n(23,"button",12),o(24," Ingresar "),t()(),d(25,Ge,2,1,"div",13),n(26,"p",14),o(27," \xBFNo tienes cuenta? "),n(28,"a",15),o(29,"Reg\xEDstrate aqu\xED"),t()()()()}if(e&2){let s=X(14);l(18),I("ngModel",a.email),l(4),I("ngModel",a.password),l(),m("disabled",!s.valid),l(2),m("ngIf",a.error)}},dependencies:[W,D,k,T,V,B,q,P,E,x],encapsulation:2})};function Qe(i,r){i&1&&(n(0,"li",7)(1,"a",13),o(2,"Encuesta"),t()())}function Ue(i,r){i&1&&(n(0,"li",7)(1,"a",14),o(2,"Login"),t()())}function Je(i,r){if(i&1&&(n(0,"li",7)(1,"span",15),o(2),t()()),i&2){let e=y();l(2),c(e.userEmail)}}function ze(i,r){i&1&&(n(0,"li",7)(1,"a",16),o(2,"Encuestas"),t()())}function Ke(i,r){if(i&1){let e=j();n(0,"li",7)(1,"button",17),_("click",function(){b(e);let s=y();return C(s.logout())}),o(2,"Logout"),t()()}}function Ze(i,r){i&1&&(n(0,"li",7)(1,"a",18),o(2,"Chat"),t()())}var le=class i{constructor(r,e){this.authService=r;this.router=e}userEmail=null;esAdmin=!1;sub;ngOnInit(){this.sub=this.authService.userEmail$.subscribe(r=>u(this,null,function*(){this.userEmail=r,r?this.esAdmin=yield this.authService.isAdmin():this.esAdmin=!1,console.log("Email del usuario:",this.userEmail)}))}logout(){this.authService.logout(),this.router.navigate(["/home"])}ngOnDestroy(){this.sub?.unsubscribe()}static \u0275fac=function(e){return new(e||i)(v(R),v(F))};static \u0275cmp=h({type:i,selectors:[["app-home"]],decls:25,vars:6,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-light"],[1,"container-fluid"],["routerLink","/home",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav"],[1,"nav-item"],["routerLink","/home",1,"nav-link"],["routerLink","/juegos",1,"nav-link"],["class","nav-item",4,"ngIf"],["routerLink","/home/quien-soy",1,"nav-link"],[1,"container","mt-4"],["routerLink","/home/encuesta",1,"nav-link"],["routerLink","/home/login",1,"nav-link"],[1,"nav-link","disabled"],["routerLink","/home/encuestas",1,"nav-link"],[1,"btn","btn-link","nav-link",3,"click"],["routerLink","/home/chat",1,"nav-link"]],template:function(e,a){e&1&&(n(0,"nav",0)(1,"div",1)(2,"a",2),o(3,"Sala de Juegos"),t(),n(4,"button",3),g(5,"span",4),t(),n(6,"div",5)(7,"ul",6)(8,"li",7)(9,"a",8),o(10,"Home"),t()(),n(11,"li",7)(12,"a",9),o(13,"Juegos"),t()(),d(14,Qe,3,0,"li",10)(15,Ue,3,0,"li",10)(16,Je,3,1,"li",10)(17,ze,3,0,"li",10)(18,Ke,3,0,"li",10),n(19,"li",7)(20,"a",11),o(21,"\xBFQui\xE9n soy?"),t()(),d(22,Ze,3,0,"li",10),t()()()(),n(23,"div",12),g(24,"router-outlet"),t()),e&2&&(l(14),m("ngIf",a.userEmail),l(),m("ngIf",!a.userEmail),l(),m("ngIf",a.userEmail),l(),m("ngIf",a.esAdmin),l(),m("ngIf",a.userEmail),l(4),m("ngIf",a.userEmail))},dependencies:[ie,ne,ke,E,x],encapsulation:2})};var me=class i{static \u0275fac=function(e){return new(e||i)};static \u0275cmp=h({type:i,selectors:[["app-quien-soy"]],decls:22,vars:0,consts:[[1,"container","mt-4"],[1,"card","p-4","shadow"],[1,"mb-3"],[1,"mb-3","text-center"],["src","assets/mi-foto.jpg","alt","Mi Foto","width","200",1,"img-thumbnail"]],template:function(e,a){e&1&&(n(0,"div",0)(1,"div",1)(2,"h3",2),o(3,"\xBFQui\xE9n soy?"),t(),n(4,"div",3),g(5,"img",4),t(),n(6,"p")(7,"strong"),o(8,"Nombre:"),t(),o(9," Alan Magari\xF1os"),t(),n(10,"p")(11,"strong"),o(12,"Edad:"),t(),o(13," 35 a\xF1os"),t(),n(14,"p")(15,"strong"),o(16,"Carrera:"),t(),o(17," Tecnicatura universitaria en programaci\xF3n"),t(),n(18,"p")(19,"strong"),o(20,"Sobre mi juego:"),t(),o(21," Es un juego de anagramas en el cual aparecen letras desordenadas y el jugador debe elegir la palabra correcta entre varias opciones. El objetivo es adivinar la palabra original a partir del anagrama presentado. "),t()()())},encapsulation:2})};function Xe(i,r){if(i&1){let e=j();n(0,"div",4)(1,"div",5),_("click",function(){let s=b(e).$implicit,p=y();return C(p.jugar(s.ruta))})("keydown.enter",function(){let s=b(e).$implicit,p=y();return C(p.jugar(s.ruta))}),n(2,"div",6),g(3,"img",7),n(4,"h5",8),o(5),t()()()()}if(i&2){let e=r.$implicit;l(3),m("src",e.imagen,Se)("alt",e.nombre),l(2),c(e.nombre)}}var se=class i{constructor(r){this.router=r}juegos=[{nombre:"Ahorcado",ruta:"/home/juegos/ahorcado",imagen:"assets/ahorcado.png"},{nombre:"Mayor o Menor",ruta:"/home/juegos/mayor-menor",imagen:"assets/mayor-menor.png"},{nombre:"Preguntados",ruta:"/home/juegos/preguntados",imagen:"assets/preguntados.png"},{nombre:"Anagrama",ruta:"/home/juegos/anagrama",imagen:"assets/anagrama.png"}];jugar(r){this.router.navigate([r])}static \u0275fac=function(e){return new(e||i)(v(F))};static \u0275cmp=h({type:i,selectors:[["app-catalogo"]],decls:5,vars:1,consts:[[1,"container","my-5"],[1,"text-center","mb-4"],[1,"row","g-4"],["class","col-12 col-md-6 col-lg-3",4,"ngFor","ngForOf"],[1,"col-12","col-md-6","col-lg-3"],["role","button","tabindex","0",1,"card","h-100","text-center","shadow-sm","card-clickable",3,"click","keydown.enter"],[1,"card-body","d-flex","flex-column","justify-content-between","align-items-center"],[1,"game-pic","mb-3",3,"src","alt"],[1,"card-title"]],template:function(e,a){e&1&&(n(0,"div",0)(1,"h2",1),o(2,"Juegos"),t(),n(3,"div",2),d(4,Xe,6,3,"div",3),t()()),e&2&&(l(4),m("ngForOf",a.juegos))},dependencies:[E,A],styles:[".card[_ngcontent-%COMP%]{border-radius:1rem;overflow:hidden;transition:transform .2s ease,box-shadow .2s ease}.card[_ngcontent-%COMP%]:hover{transform:scale(1.03);box-shadow:0 8px 16px #00000026}.game-pic[_ngcontent-%COMP%]{max-width:100%;max-height:150px;object-fit:contain}.card-body[_ngcontent-%COMP%]{padding:1rem}.card-clickable[_ngcontent-%COMP%]{cursor:pointer;border:1px solid #dee2e6}.card-title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;margin-top:auto;margin-bottom:0;text-align:center}"]})};var ce=class i{supabase;constructor(){this.supabase=oe(H.supabaseUrl,H.supabaseAnonKey)}getMensajes(){return u(this,null,function*(){let{data:r,error:e}=yield this.supabase.from("chat").select("*").order("created_at",{ascending:!0});if(e)throw e;return r})}enviarMensaje(r,e){return u(this,null,function*(){let{error:a}=yield this.supabase.from("chat").insert([{usuario:r,mensaje:e}]);if(a)throw a})}static \u0275fac=function(e){return new(e||i)};static \u0275prov=L({token:i,factory:i.\u0275fac,providedIn:"root"})};function $e(i,r){if(i&1&&(n(0,"div")(1,"span",9),o(2),t(),n(3,"span"),o(4),t(),n(5,"span",15),o(6),$(7,"date"),t(),g(8,"hr",16),t()),i&2){let e=r.$implicit;l(2),xe("",e.usuario,":"),l(2),c(e.mensaje),l(2),c(ee(7,3,e.created_at,"short"))}}function et(i,r){i&1&&(n(0,"div",17),o(1,"No hay mensajes"),t())}function tt(i,r){if(i&1&&(n(0,"div",18),o(1),t()),i&2){let e=y();l(),c(e.error)}}var pe=class i{constructor(r){this.chatService=r}mensajes=[];usuario="";mensaje="";error="";ngOnInit(){return u(this,null,function*(){this.usuario=localStorage.getItem("userEmail")||"",yield this.cargarMensajes()})}cargarMensajes(){return u(this,null,function*(){try{this.mensajes=yield this.chatService.getMensajes()}catch{this.error="Error al cargar mensajes"}})}enviar(){return u(this,null,function*(){if(!(!this.usuario.trim()||!this.mensaje.trim()))try{yield this.chatService.enviarMensaje(this.usuario,this.mensaje),this.mensaje="",yield this.cargarMensajes()}catch{this.error="Error al enviar mensaje"}})}static \u0275fac=function(e){return new(e||i)(v(ce))};static \u0275cmp=h({type:i,selectors:[["app-chat"]],decls:18,vars:5,consts:[[1,"container","mt-4",2,"max-width","600px"],[1,"card","shadow"],[1,"card-header","bg-dark","text-white"],[1,"card-body",2,"height","300px","overflow-y","auto"],[4,"ngFor","ngForOf"],["class","text-center text-muted",4,"ngIf"],[1,"card-footer"],[1,"row","g-2","align-items-center",3,"ngSubmit"],[1,"col-4","d-flex","align-items-center"],[1,"fw-bold"],[1,"col-6"],["type","text","placeholder","Mensaje","name","mensaje","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-2"],["type","submit",1,"btn","btn-dark","w-100"],["class","text-danger mt-2",4,"ngIf"],[1,"text-muted","small","float-end"],[1,"my-2"],[1,"text-center","text-muted"],[1,"text-danger","mt-2"]],template:function(e,a){e&1&&(n(0,"div",0)(1,"div",1)(2,"div",2),o(3," Chat "),t(),n(4,"div",3),d(5,$e,9,6,"div",4)(6,et,2,0,"div",5),t(),n(7,"div",6)(8,"form",7),_("ngSubmit",function(){return a.enviar()}),n(9,"div",8)(10,"span",9),o(11),t()(),n(12,"div",10)(13,"input",11),N("ngModelChange",function(p){return M(a.mensaje,p)||(a.mensaje=p),p}),t()(),n(14,"div",12)(15,"button",13),o(16,"Enviar"),t()()(),d(17,tt,2,1,"div",14),t()()()),e&2&&(l(5),m("ngForOf",a.mensajes),l(),m("ngIf",a.mensajes.length===0),l(5),c(a.usuario),l(2),I("ngModel",a.mensaje),l(4),m("ngIf",a.error))},dependencies:[E,A,x,te,W,D,k,T,V,B,q,P],encapsulation:2})};function nt(i,r){if(i&1&&(n(0,"div",12),o(1),t()),i&2){let e=y();l(),c(e.error)}}var ue=class i{constructor(r,e){this.authService=r;this.router=e}email="";password="";error="";onSubmit(){return u(this,null,function*(){try{yield this.authService.register(this.email,this.password),this.router.navigate(["/home"])}catch(r){this.error=r.message||"Error al registrar usuario"}})}static \u0275fac=function(e){return new(e||i)(v(R),v(F))};static \u0275cmp=h({type:i,selectors:[["app-registro"]],decls:17,vars:4,consts:[["registerForm","ngForm"],[1,"container","mt-5","d-flex","justify-content-center"],[1,"card","p-4","shadow",2,"width","100%","max-width","400px"],[1,"text-center","mb-4"],[3,"ngSubmit"],[1,"mb-3"],["for","email",1,"form-label"],["type","email","id","email","name","email","required","","placeholder","ejemplo@correo.com",1,"form-control",3,"ngModelChange","ngModel"],["for","password",1,"form-label"],["type","password","id","password","name","password","required","","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-dark","w-100",3,"disabled"],["class","text-danger mt-2 text-center",4,"ngIf"],[1,"text-danger","mt-2","text-center"]],template:function(e,a){if(e&1){let s=j();n(0,"div",1)(1,"div",2)(2,"h4",3),o(3,"Registro"),t(),n(4,"form",4,0),_("ngSubmit",function(){return b(s),C(a.onSubmit())}),n(6,"div",5)(7,"label",6),o(8,"Correo electr\xF3nico"),t(),n(9,"input",7),N("ngModelChange",function(f){return b(s),M(a.email,f)||(a.email=f),C(f)}),t()(),n(10,"div",5)(11,"label",8),o(12,"Contrase\xF1a"),t(),n(13,"input",9),N("ngModelChange",function(f){return b(s),M(a.password,f)||(a.password=f),C(f)}),t()(),n(14,"button",10),o(15," Registrarse "),t()(),d(16,nt,2,1,"div",11),t()()}if(e&2){let s=X(5);l(9),I("ngModel",a.email),l(4),I("ngModel",a.password),l(),m("disabled",!s.valid),l(2),m("ngIf",a.error)}},dependencies:[E,x,W,D,k,T,V,B,q,P],encapsulation:2})};var Q=class i{supabase;constructor(){this.supabase=oe(H.supabaseUrl,H.supabaseAnonKey)}obtenerEncuestas(){return u(this,null,function*(){let{data:r,error:e}=yield this.supabase.from("encuestas").select("*").order("fecha_creacion",{ascending:!1});if(e)throw console.error("Error al obtener encuestas:",e),e;return r})}insertEncuesta(r){return u(this,null,function*(){let{data:e,error:a}=yield this.supabase.from("encuestas").insert([r]);if(a)throw a;return e})}static \u0275fac=function(e){return new(e||i)};static \u0275prov=L({token:i,factory:i.\u0275fac,providedIn:"root"})};var ye=i=>({"is-invalid":i});function it(i,r){i&1&&(n(0,"div",22),o(1," Nombre y apellido son obligatorios y solo pueden contener letras y espacios. "),t())}function ot(i,r){i&1&&(n(0,"div",22),o(1," La edad debe estar entre 18 y 99 a\xF1os. "),t())}function rt(i,r){i&1&&(n(0,"div",22),o(1," El tel\xE9fono debe contener solo n\xFAmeros y no m\xE1s de 10 caracteres. "),t())}function at(i,r){if(i&1&&(n(0,"div")(1,"div",23),g(2,"input",24),n(3,"label",25),o(4),t()()()),i&2){let e=r.$implicit;l(2),m("value",e)("id",e),l(),m("for",e),l(),c(e)}}function lt(i,r){i&1&&(n(0,"div",26),o(1," Seleccion\xE1 un juego. "),t())}function mt(i,r){i&1&&(n(0,"div",26),o(1," Deb\xE9s confirmar antes de enviar. "),t())}var de=class i{constructor(r,e){this.fb=r;this.encuestaService=e}encuestaForm;juegos=["Ahorcado","Mayor Menor","Preguntados","Anagrama"];ngOnInit(){this.encuestaForm=this.fb.group({nombreApellido:["",[S.required,S.pattern(/^[a-zA-Z\s]+$/)]],edad:["",[S.required,S.min(18),S.max(99)]],telefono:["",[S.required,S.pattern(/^\d+$/),S.maxLength(10)]],juegoFavorito:["",S.required],juegoFaltante:["",[S.maxLength(100)]],sugerencias:["",[S.maxLength(200)]],confirmacion:[!1,S.requiredTrue]})}onSubmit(){return u(this,null,function*(){if(this.encuestaForm.valid){let r={nombre_apellido:this.encuestaForm.value.nombreApellido,edad:this.encuestaForm.value.edad,telefono:this.encuestaForm.value.telefono,juego_favorito:this.encuestaForm.value.juegoFavorito,juego_faltante:this.encuestaForm.value.juegoFaltante,sugerencias:this.encuestaForm.value.sugerencias};try{yield this.encuestaService.insertEncuesta(r),alert("Encuesta enviada con \xE9xito"),this.encuestaForm.reset()}catch(e){console.error(" Error al enviar la encuesta:",e),alert("Error al enviar la encuesta")}}else this.encuestaForm.markAllAsTouched(),console.error("Formulario inv\xE1lido")})}static \u0275fac=function(e){return new(e||i)(v(Pe),v(Q))};static \u0275cmp=h({type:i,selectors:[["app-encuesta"]],decls:39,vars:17,consts:[[1,"container","mt-5"],[1,"text-center","mb-4"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","nombreApellido",1,"form-label"],["id","nombreApellido","type","text","formControlName","nombreApellido",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","edad",1,"form-label"],["id","edad","type","number","formControlName","edad",1,"form-control",3,"ngClass"],["for","telefono",1,"form-label"],["id","telefono","type","text","formControlName","telefono",1,"form-control",3,"ngClass"],["for","juegoFaltante",1,"form-label"],["id","juegoFaltante","type","text","formControlName","juegoFaltante",1,"form-control"],[1,"form-label"],[4,"ngFor","ngForOf"],["class","text-danger",4,"ngIf"],["for","sugerencias",1,"form-label"],["id","sugerencias","formControlName","sugerencias","rows","3",1,"form-control"],[1,"mb-3","form-check"],["type","checkbox","id","confirmacion","formControlName","confirmacion",1,"form-check-input"],["for","confirmacion",1,"form-check-label"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"invalid-feedback"],[1,"form-check"],["type","radio","formControlName","juegoFavorito",1,"form-check-input",3,"value","id"],[1,"form-check-label",3,"for"],[1,"text-danger"]],template:function(e,a){if(e&1&&(n(0,"div",0)(1,"h2",1),o(2,"Encuesta"),t(),n(3,"form",2),_("ngSubmit",function(){return a.onSubmit()}),n(4,"div",3)(5,"label",4),o(6,"Nombre y Apellido"),t(),g(7,"input",5),d(8,it,2,0,"div",6),t(),n(9,"div",3)(10,"label",7),o(11,"Edad"),t(),g(12,"input",8),d(13,ot,2,0,"div",6),t(),n(14,"div",3)(15,"label",9),o(16,"Tel\xE9fono"),t(),g(17,"input",10),d(18,rt,2,0,"div",6),t(),n(19,"div",3)(20,"label",11),o(21,"\xBFQu\xE9 juego pens\xE1s que falta?"),t(),g(22,"input",12),t(),n(23,"div",3)(24,"label",13),o(25,"\xBFQu\xE9 juego te gust\xF3 m\xE1s?"),t(),d(26,at,5,4,"div",14)(27,lt,2,0,"div",15),t(),n(28,"div",3)(29,"label",16),o(30,"Sugerencias generales"),t(),g(31,"textarea",17),t(),n(32,"div",18),g(33,"input",19),n(34,"label",20),o(35," Confirmo que complet\xE9 y le\xED todo correctamente. "),t(),d(36,mt,2,0,"div",15),t(),n(37,"button",21),o(38,"Enviar"),t()()()),e&2){let s,p,f,U,J,z,K,Z;l(3),m("formGroup",a.encuestaForm),l(4),m("ngClass",Y(11,ye,((s=a.encuestaForm.get("nombreApellido"))==null?null:s.invalid)&&((s=a.encuestaForm.get("nombreApellido"))==null?null:s.touched))),l(),m("ngIf",((p=a.encuestaForm.get("nombreApellido"))==null?null:p.invalid)&&((p=a.encuestaForm.get("nombreApellido"))==null?null:p.touched)),l(4),m("ngClass",Y(13,ye,((f=a.encuestaForm.get("edad"))==null?null:f.invalid)&&((f=a.encuestaForm.get("edad"))==null?null:f.touched))),l(),m("ngIf",((U=a.encuestaForm.get("edad"))==null?null:U.invalid)&&((U=a.encuestaForm.get("edad"))==null?null:U.touched)),l(4),m("ngClass",Y(15,ye,((J=a.encuestaForm.get("telefono"))==null?null:J.invalid)&&((J=a.encuestaForm.get("telefono"))==null?null:J.touched))),l(),m("ngIf",((z=a.encuestaForm.get("telefono"))==null?null:z.invalid)&&((z=a.encuestaForm.get("telefono"))==null?null:z.touched)),l(8),m("ngForOf",a.juegos),l(),m("ngIf",((K=a.encuestaForm.get("juegoFavorito"))==null?null:K.invalid)&&((K=a.encuestaForm.get("juegoFavorito"))==null?null:K.touched)),l(9),m("ngIf",((Z=a.encuestaForm.get("confirmacion"))==null?null:Z.invalid)&&((Z=a.encuestaForm.get("confirmacion"))==null?null:Z.touched)),l(),m("disabled",a.encuestaForm.invalid)}},dependencies:[qe,D,k,De,Ve,Re,T,V,Oe,Le,E,Fe,A,x],encapsulation:2})};function st(i,r){i&1&&(n(0,"div",6),o(1,"Cargando encuestas..."),t())}function ct(i,r){if(i&1&&(n(0,"div",7),o(1),t()),i&2){let e=y();l(),c(e.error)}}function pt(i,r){if(i&1&&(n(0,"tr")(1,"td"),o(2),t(),n(3,"td"),o(4),t(),n(5,"td"),o(6),t(),n(7,"td"),o(8),t(),n(9,"td"),o(10),t(),n(11,"td"),o(12),t(),n(13,"td"),o(14),$(15,"date"),t()()),i&2){let e=r.$implicit;l(2),c(e.nombre_apellido),l(2),c(e.edad),l(2),c(e.telefono),l(2),c(e.juego_favorito),l(2),c(e.juego_faltante||"\u2014"),l(2),c(e.sugerencias||"\u2014"),l(2),c(ee(15,7,e.fecha_creacion,"short"))}}function ut(i,r){if(i&1&&(n(0,"table",8)(1,"thead",9)(2,"tr")(3,"th"),o(4,"Nombre y Apellido"),t(),n(5,"th"),o(6,"Edad"),t(),n(7,"th"),o(8,"Tel\xE9fono"),t(),n(9,"th"),o(10,"Juego Favorito"),t(),n(11,"th"),o(12,"Juego Faltante"),t(),n(13,"th"),o(14,"Sugerencias"),t(),n(15,"th"),o(16,"Fecha"),t()()(),n(17,"tbody"),d(18,pt,16,10,"tr",10),t()()),i&2){let e=y();l(18),m("ngForOf",e.encuestas)}}function dt(i,r){i&1&&(n(0,"div",11),o(1," No hay encuestas registradas por el momento. "),t())}var fe=class i{constructor(r){this.encuestasService=r}encuestas=[];cargando=!0;error=null;ngOnInit(){return u(this,null,function*(){try{this.encuestas=yield this.encuestasService.obtenerEncuestas()}catch{this.error="No se pudieron cargar las encuestas."}finally{this.cargando=!1}})}static \u0275fac=function(e){return new(e||i)(v(Q))};static \u0275cmp=h({type:i,selectors:[["app-encuestas"]],decls:7,vars:4,consts:[[1,"container","mt-5"],[1,"mb-4","text-center"],["class","alert alert-info",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],["class","table table-bordered table-hover",4,"ngIf"],["class","alert alert-warning",4,"ngIf"],[1,"alert","alert-info"],[1,"alert","alert-danger"],[1,"table","table-bordered","table-hover"],[1,"table-dark"],[4,"ngFor","ngForOf"],[1,"alert","alert-warning"]],template:function(e,a){e&1&&(n(0,"div",0)(1,"h2",1),o(2,"Encuestas Recibidas"),t(),d(3,st,2,0,"div",2)(4,ct,2,1,"div",3)(5,ut,19,1,"table",4)(6,dt,2,0,"div",5),t()),e&2&&(l(3),m("ngIf",a.cargando),l(),m("ngIf",a.error),l(),m("ngIf",!a.cargando&&a.encuestas.length>0),l(),m("ngIf",!a.cargando&&a.encuestas.length===0))},dependencies:[E,A,x,te],encapsulation:2})};var ge=class i{constructor(r,e){this.authService=r;this.router=e}canActivate(){return u(this,null,function*(){let r=this.authService.getUserEmail();if(!r)return this.router.navigate(["/home"]),!1;try{return(yield this.authService.getUsuarioPorEmail(r)).perfil==="administrador"?!0:(this.router.navigate(["/home"]),!1)}catch(e){return console.error("Error al verificar perfil:",e),this.router.navigate(["/home"]),!1}})}static \u0275fac=function(e){return new(e||i)(he(R),he(F))};static \u0275prov=L({token:i,factory:i.\u0275fac,providedIn:"root"})};var We=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:le,children:[{path:"",component:se},{path:"quien-soy",component:me},{path:"login",component:re},{path:"registro",component:ue},{path:"juegos",loadChildren:()=>import("./chunk-PRV65CDL.js").then(i=>i.JuegosModule)},{path:"chat",component:pe,canActivate:[be]},{path:"encuesta",component:de,canActivate:[be]},{path:"encuestas",component:fe,canActivate:[ge]}]},{path:"**",redirectTo:"home"}];var He={providers:[we({eventCoalescing:!0}),Ee(Ie,ie),Te(We),Ae(Ne()),Me()]};var ve=class i{title="salaDeJuegos";static \u0275fac=function(e){return new(e||i)};static \u0275cmp=h({type:i,selectors:[["app-root"]],decls:1,vars:0,template:function(e,a){e&1&&g(0,"router-outlet")},dependencies:[ne],encapsulation:2})};je(ve,He).catch(i=>console.error(i));
